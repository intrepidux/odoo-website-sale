<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <template id="home_page" name="Home Page">
            <t t-call="website.layout">
                <section>
                    <div class="container">
                        <div class="row">
                            <div id="main_div" class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mt32 mb32">
                                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3 home_tab_menu">
                                    <ul id="home_tab_nav" class="list-group nav nav-pills nav-stacked">
                                        <li class="active">
                                            <a href="#settings" data-toggle="tab" class="list-group-item text-center">
                                                <h4><i class="fa fa-cogs"/></h4><h4 class="hidden-xs">Settings</h4>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <div id="home_tab_content" class="col-lg-9 col-md-9 col-sm-9 col-xs-9 tab-content home_tab_content">
                                    <div id="settings" class="tab-pane active">
                                        <div id="info_div">
<!--
                                            <h4 class="text-center">(* = Required)</h4>
-->
                                            <form id="info_form" t-att-action="'/home/%s/info_update' % home_user.id if home_user else user_id.id" method="post" class="form-horizontal mt32" enctype="multipart/form-data" onsubmit="return formValidate();">
                                                <input type="hidden" name="home_user" t-att-value="home_user.id" />

                                                <h2 class="text-center">Login Information</h2>
                                                <div t-attf-class="form-group #{error and 'email' in error and 'has-error' or ''}">
                                                    <label class="col-md-3 col-sm-4 control-label" for="email">Email *</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <input type="email" class="form-control" name="email" required="True" t-att-value="home_user.partner_id.email"/>
                                                    </div>
                                                </div>
                                                <div t-attf-class="form-group #{error and 'login' in error and 'has-error' or ''}">
                                                    <label class="col-md-3 col-sm-4 control-label" for="login">Name For Login *</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <input type="text" class="form-control" name="login" required="True" t-att-value="home_user.login"/>
                                                    </div>
                                                </div>
                                                <div t-attf-class="form-group #{error and 'password' in error and 'has-error' or ''}">
                                                    <label class="col-md-3 col-sm-4 control-label" for="password">New Password *</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <input id="password" type="password" class="form-control" name="password" placeholder="Password (only when you want to change)" />
                                                    </div>
                                                </div>
                                                <div t-attf-class="form-group #{error and 'password' in error and 'has-error' or ''}">
                                                    <label class="col-md-3 col-sm-4 control-label" for="confirm_password">Confirm Password *</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <input id="confirm_password" type="password" class="form-control" name="confirm_password" placeholder="Same password (only when you want to change)" />
                                                    </div>
                                                </div>

                                                <h2 class="text-center">Payment Information</h2>
                                                <div class="form-group">
                                                    <label class="col-md-3 col-sm-4 control-label" for="ref">Customer Number</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <p class="input_readonly"><t t-esc="home_user.partner_id.ref"/></p>
                                                    </div>
                                                </div>
                                                <div class="form-group" t-if="home_user.partner_id.is_company">
                                                    <label class="col-md-3 col-sm-4 control-label" for="company">Is Company</label>
                                                    <div class="col-md-7 col-sm-8 input_readonly">
                                                        <input id="is_company" type="checkbox" name="is_company" value="1" t-att="{'checked': '1'} if home_user.partner_id.is_company else {}" disabled="1"/>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label id="label_name" t-att-class="'col-md-3 col-sm-4 control-label %s' %('hidden' if home_user.partner_id.is_company else '')" for="name">Name *</label>
                                                    <label id="label_company_name" t-att-class="'col-md-3 col-sm-4 control-label %s' %('hidden' if not home_user.partner_id.is_company else '')" for="name">Company Name *</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <input type="text" class="form-control" name="name" t-att-value="home_user.partner_id.name" required="True"/>
                                                    </div>
                                                </div>
                                                <div id="is_company_number" class="form-group" t-if="home_user.partner_id.is_company">
                                                    <label class="col-md-3 col-sm-4 control-label" for="vat">Organisations Number</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <p class="input_readonly"><t t-esc="home_user.partner_id.vat"/></p>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 col-sm-4 control-label" for="street">Street 1 *</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <input type="text" class="form-control" name="street" t-att-value="home_user.partner_id.street" required="True"/>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 col-sm-4 control-label" for="street2">Street 2</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <input type="text" class="form-control" name="street2" t-att-value="home_user.partner_id.street2"/>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 col-sm-4 control-label" for="city">City *</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <input type="text" class="form-control" name="city" t-att-value="home_user.partner_id.city" required="True"/>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 col-sm-4 control-label" for="zip">Zip *</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <input type="text" class="form-control" name="zip" t-att-value="home_user.partner_id.zip" required="True"/>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 col-sm-4 control-label" for="country_id">Country *</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <select class="form-control" name="country_id" required="True">
                                                            <t t-foreach="request.env['res.country'].search([])" t-as="country">
                                                                <option t-att-value="country.id" t-att="{'selected': 'checked'} if home_user.partner_id.country_id == country else {}"><t t-esc="country.name"/></option>
                                                            </t>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 col-sm-4 control-label" for="phone">Phone *</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <input type="text" class="form-control" name="phone" required="True" t-att-value="home_user.partner_id.phone"/>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 col-sm-4 control-label" for="mobile">Mobile</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <input type="text" class="form-control" name="mobile" t-att-value="home_user.partner_id.mobile"/>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 col-sm-4 control-label" for="fax">Fax</label>
                                                    <div class="col-md-7 col-sm-8">
                                                        <input type="text" class="form-control" name="fax" t-att-value="home_user.partner_id.fax"/>
                                                    </div>
                                                </div>

                                                <t t-if="home_user.partner_id.is_company">
                                                    <h2 class="text-center">Bank Information</h2>
                                                    <t t-set="bank_id" t-value="None"/>
                                                    <t t-if="len(home_user.partner_id.bank_ids) &gt; 0">
                                                        <t t-set="bank_id" t-value="home_user.partner_id.bank_ids[0]"/>
                                                    </t>
                                                    <div class="form-group">
                                                        <label class="col-md-3 col-sm-4 control-label" for="account_holder">Account Holder</label>
                                                        <div class="col-md-7 col-sm-8">
                                                            <input type="text" class="form-control" name="account_holder" t-att-value="bank_id.partner_id.name if bank_id else ''" disabled="1"/>
                                                        </div>
                                                    </div>
                                                    <div id="bank_account" class="form-group">
                                                        <label class="col-md-3 col-sm-4 control-label" for="account_number">Account Number *</label>
                                                        <div class="col-md-7 col-sm-8">
                                                            <input type="text" class="form-control" name="account_number" t-att-value="bank_id.acc_number if bank_id else ''"/>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-md-3 col-sm-4 control-label" for="account_sort_code">Account Sort Code</label>
                                                        <div class="col-md-7 col-sm-8">
                                                            <input type="text" class="form-control" name="account_sort_code" t-att-value="bank_id.bank_bic if bank_id else ''" disabled="1"/>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-md-3 col-sm-4 control-label" for="bank_name">Bank Name</label>
                                                        <div class="col-md-7 col-sm-8">
                                                            <t t-set="banks" t-value="request.env['res.bank'].search([])"/>
                                                            <select name="bank_name" class="form-control">
                                                                <t t-foreach="banks" t-as="bank">
                                                                    <option t-att-value="bank.id" t-att="({'selected': '1'} if bank_id.bank.id == bank.id else {}) if bank_id else {}"><t t-esc="bank.name"/></option>
                                                                </t>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-md-3 col-sm-4 control-label" for="bank_type">Bank Account Type</label>
                                                        <div class="col-md-7 col-sm-8">
                                                            <select name="bank_type" class="form-control" readonly="1">
<!--
                                                                <option value="bank">Bank Account</option>
-->
                                                                <option value="bg" selected="1">Bankgiro</option>
<!--
                                                                <option value="iban">IBAN Account</option>
                                                                <option value="pg">Plusgiro</option>
-->
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div id="iban_account" class="form-group">
                                                        <label class="col-md-3 col-sm-4 control-label" for="iban">IBAN</label>
                                                        <div class="col-md-7 col-sm-8">
                                                            <input type="text" class="form-control" name="iban" value="" disabled="1"/>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-md-3 col-sm-4 control-label" for="other_info">School, education</label>
                                                        <div class="col-md-7 col-sm-8">
                                                            <textarea type="text" class="form-control" name="other_info"></textarea>
                                                        </div>
                                                    </div>
                                                </t>

                                                <div class="form-group">
                                                    <div class="col-md-offset-3 col-sm-offset-4 col-sm-8 col-md-7">
                                                        <button id="submit_btn" class="btn btn-primary btn-lg">Send</button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                      </div>
                    </div>
                </section>
            </t>
        </template>

        <template id="layout" inherit_id="website.layout">
            <xpath expr="//a[@href='/web']" position="replace">
                <a t-att-href="'/home/%s' %user_id.id" role="menuitem">My Account</a>
            </xpath>
        </template>

        <template id="assets_frontend" inherit_id="website.assets_frontend" name="Website Sale Home Assets Frontend">
            <xpath expr="." position="inside">
                <link rel="stylesheet" href="/website_sale_home/static/src/css/main.css" t-ignore="true"/>
                <script type="text/javascript" src="/website_sale_home/static/src/js/main.js"/>
            </xpath>
        </template>

    </data>
</openerp>
