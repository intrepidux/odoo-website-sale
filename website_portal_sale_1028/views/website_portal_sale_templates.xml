<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>
    <template id="assets_frontend" inherit_id="website.assets_frontend" name="Website Portal Sale">
      <xpath expr="." position="inside">
        <link rel='stylesheet' href='/website_portal_sale_1028/static/src/less/website_portal_sale_1028.less' />
        <script type="text/javascript" src="/website_portal_sale_1028/static/src/js/main.js" />
      </xpath>
    </template>
    <!--    <template id="portal_my_home_menu_sale" name="Portal layout : sales menu entries" inherit_id="website_portal_1028.portal_layout" priority="25">
         <xpath expr="//ul[contains(@class,'o_portal_submenu')]" position="inside">
         <div class="menu menu-my-pages">
         <div class="row"> -->
    <!--
         
         TODO: Activate me
         <div class="col-md-2 col-sm-6 col-xs-4">
         <li>
         <a href="/my/home">Aktuellt</a>
         </li>
         </div>
         
         <div class="col-md-2 col-sm-6 col-xs-4">
         <li>
         <a href="/my/salon">My Salon</a>
         </li>
         </div>
         <div class="col-md-2 col-sm-6 col-xs-4">
         <li>
         <a href="/my/orders">My Orders</a>
         </li>
         </div>
         
         TODO: Activate me
         <div class="col-md-2 col-sm-6 col-xs-4">
         <li>
         <a href="/my/obsolete">Utgående produkter</a>
         </li>
         </div>
         
         <div class="col-md-2 col-sm-6 col-xs-4">
         <li>
         <a href="/my/reclaim">Reklamationer</a>
         </li>
         </div> 
         <div class="col-md-2 col-sm-6 col-xs-4">
         <li>
         <a href="/my/buyinfo">Buyinfo</a>
         </li>
         </div>
    -->
    <!--          <div class="col-md-2 col-sm-6 col-xs-4">
         <li>
         <a href="/my/mail">Mail &amp; Prenumeranter</a>
         </li>
         </div> -->
    <!--
         
         <div class="col-md-2 col-sm-6 col-xs-4">
         <li class="dropdown-submenu">
         <a class="test" href="#">Media</a>
         <ul class="dropdown-menu">
         <li>
         <a href="/my/imagearchive">Image Bank</a>
         </li>
         
         TODO: Activate me
         <li>
         <a href="/my/pricelist">Prislistor</a>
         </li>
         
         <li>
         <a href="/my/news">News &amp; Offers</a>
         </li>
         <li>
         <a href="/my/events">Events &amp; Treatments</a>
         </li>
         <li>
         <a href="/my/compendium">Compendium</a>
         </li>
         <li>
         <a href="/my/other">Miscellaneous</a>
         </li>
         </ul>
         </li>
         </div>
    -->
    <!--           </div>
         </div>
         </xpath>
         </template>  -->
    <template id="my_menu" name="My menu">
      <div class="left_menu col-md-3 hidden-sm hidden-xs">
        <!--
             TODO: Activate me
             <li>
             <a href="/my/home">Aktuellt</a>
             </li>
        -->
        <li t-att-class="'active' if active_menu == 'my_salon' else ''">
          <a href="/my/salon">My salon</a>
        </li>
        <li t-att-class="'active' if active_menu == 'my_orders' else ''">
          <a href="/my/orders">My orders</a>
        </li>
        <li t-att-class="'active' if active_menu == 'my_credit_invoice' else ''">
          <a href="/my/credits">My Credit Invoice</a>
        </li>
        <!--
             TODO: Activate me
             <li t-att-class="'active' if active_menu == 'my_obsolete' else ''">
             <a href="/my/obsolete">Utgående produkter</a>
             </li>
             <li t-att-class="'active' if active_menu == 'my_buyinfo' else ''">
             <a href="/my/buyinfo">Köpinformation</a>
             </li>
        -->
        <!--      <li t-att-class="'active' if active_menu == 'my_reclaim' else ''">
             <a href="/my/reclaim">Mina reklamationer</a>
             </li> -->
        <t t-if="not request.env.user.has_group('webshop_dermanord.group_dn_sk')">
          <li t-att-class="'active' if active_menu == 'my_mail' else ''">
            <a href="/my/mail">Mail &amp; Subscribers</a>
          </li>
          <p>Media</p>
          <ul class="mega_menu_children">
            <li t-att-class="'active' if active_menu == 'my_imagearchive' else ''">
              <a href="/my/imagearchive">Image bank</a>
            </li>
            <!--
                 TODO: Activate me
                 <li t-att-class="'active' if active_menu == 'my_pricelist' else ''">
                 <a href="/my/pricelist">Prislistor</a>
                 </li>
            -->
            <li t-att-class="'active' if active_menu == 'my_news' else ''">
              <a href="/my/news">News &amp; Offers</a>
            </li>
            <li t-att-class="'active' if active_menu == 'my_events' else ''">
              <a href="/my/events">Events &amp; Treatments</a>
            </li>
            <li t-att-class="'active' if active_menu == 'my_compendium' else ''">
              <a href="/my/compendium">Compendium</a>
            </li>
            <li t-att-class="'active' if active_menu == 'my_others' else ''">
              <a href="/my/other">Miscellaneous</a>
            </li>
          </ul>
        </t>
      </div>
    </template>
    <template id="contact_form" name="Website Home Contact Form">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <form id="info_form" t-att-action="'/my/salon/%s/contact/%s' %(home_user.id if home_user else user_id.id, contact.id if contact else 'new')" method="post" class="form-horizontal mt32" enctype="multipart/form-data" onsubmit="return formValidate();">
              <!--
                   <input name="token" t-att-value="home_user.partner_id.commercial_partner_id.token" type="hidden"/>
              -->
              <h4 id="title_contact" class="text-center">
                <strong>Contact Information</strong>
              </h4>
              <t t-set="my_orders_access_control" t-value="website.my_orders_access_control(user_id)" />
              <t t-if="my_orders_access_control != ''">
                <h4 class="text-center text-danger">
                  <t t-esc="my_orders_access_control" />
                </h4>
              </t>
              <p id="instruction_contact" />
              <div class="container contact_person">
                <div t-attf-class="form-group #{validation.get('contact_image', '')}">
                  <label class="col-md-3 col-sm-4 control-label" for="name">Image</label>
                  <div class="col-md-7 col-sm-8">
                    <t t-if="not contact_values.get('image') and contact and contact.image">
                      <img id="contact_img" t-att-src="'/website/image/res.partner/%s/image/300x300' %contact.id" style="max-width: 200px;" />
                    </t>
                    <t t-if="contact_values.get('image')">
                      <img id="contact_img" t-att-src="'data:image/gif;base64,%s' % contact_values['image']" style="max-width: 200px;" />
                    </t>
                    <t t-if="contact">
                      <i id="remove_img_contact" t-att-class="'fa fa-trash-o fa-2x %s' %('hidden' if not contact.image else '')" t-att-data-partner_id="contact.id">
                        <input name="remove_img_contact" class="hidden" value="0" />
                      </i>
                    </t>
                    <input class="img-input-preview" data-preview-image="#contact_img" type="file" name="image" placeholder="File to upload pdf/jpg/png" accept="image/jpeg,image/png" capture="camera" />
                    <!-- Reupload previously uploaded image -->
                    <input type="hidden" name="image_b64" placeholder="File to upload pdf/jpg/png" t-att-value="contact_values.get('image', '')" />
                    <p class="help-block">
                      <small t-esc="help.get('help_contact_image', '')" />
                    </p>
                  </div>
                </div>
                <div t-att-class="'form-group %s' %validation.get('contact_name', '')">
                  <label class="col-md-3 col-sm-4 control-label" for="contact_name">Name</label>
                  <div class="col-md-7 col-sm-8">
                    <input type="text" class="form-control" name="contact_name" t-att-value="contact_values.get('name') or (contact.name if contact else '')" placeholder="Given and family name" required="1" />
                    <small t-esc="help.get('help_contact_name', '')" />
                  </div>
                </div>
                <div t-att-class="'form-group %s' %validation.get('contact_function', '')">
                  <label class="col-md-3 col-sm-4 control-label" for="contact_function">Job Position</label>
                  <div class="col-md-7 col-sm-8">
                    <input type="text" class="form-control" name="contact_function" t-att-value="contact_values.get('function') or (contact.function if contact else '')" placeholder="e.g. masseur" />
                    <small t-esc="help.get('help_contact_function', '')" />
                  </div>
                </div>
                <div t-att-class="'form-group %s' %validation.get('contact_phone', '')">
                  <label class="col-md-3 col-sm-4 control-label" for="contact_phone">Phone</label>
                  <div class="col-md-7 col-sm-8">
                    <input type="text" class="form-control" name="contact_phone" t-att-value="contact_values.get('phone') or (contact.phone if contact else '')" placeholder="e.g. 0123-45 67 89" />
                    <small t-esc="help.get('help_contact_phone', '')" />
                  </div>
                </div>
                <div t-att-class="'form-group %s' %validation.get('contact_mobile', '')">
                  <label class="col-md-3 col-sm-4 control-label" for="contact_phone">Mobile</label>
                  <div class="col-md-7 col-sm-8">
                    <input type="text" class="form-control" name="contact_mobile" t-att-value="contact_values.get('mobile') or (contact.mobile if contact else '')" placeholder="e.g. 0709-99 99 99" />
                    <small t-esc="help.get('help_contact_mobile', '')" />
                  </div>
                </div>
                <div t-att-class="'form-group %s' %validation.get('contact_email', '')">
                  <label class="col-md-3 col-sm-4 control-label" for="contact_email">Email</label>
                  <div class="col-md-7 col-sm-8">
                    <input type="email" class="form-control" name="contact_email" t-att-value="contact_values.get('email') or (contact.email if contact else '')" placeholder="" required="1" />
                    <small t-esc="help.get('help_contact_email', '')" />
                  </div>
                </div>
              </div>
              <h4 id="title_attachment" class="text-center">
                <strong>Attachment</strong>
              </h4>
              <table class="table table-responsive table-striped table-bordered">
                <thead>
                  <th />
                  <th>Name</th>
                  <th>Date</th>
                  <th>Type</th>
                  <th />
                </thead>
                <tbody t-if="contact">
                  <tr t-foreach="request.env['ir.attachment'].search([('res_model','=','res.partner'),('res_id','=',contact.id)])" t-as="attachment">
                    <td>
                      <a t-att-href="'/web/binary/saveas?model=ir.attachment&amp;id=%s&amp;field=datas&amp;filename_field=name' % attachment.id">
                        <t t-if="attachment.file_type_icon == 'webimage'">
                          <img style="width: 32px; margin: 4px; border-radius: 2px;" t-att-src="'/web/binary/image?model=ir.attachment&amp;field=datas&amp;id=%s' %attachment.id" />
                        </t>
                        <t t-if="attachment.file_type_icon != 'webimage'">
                          <img style="width: 32px; margin: 4px; border-radius: 2px;" t-att-src="'/mail/static/src/img/mimetypes/%s.png' % attachment.file_type_icon" />
                        </t>
                      </a>
                    </td>
                    <td>
                      <a t-att-href="'/web/binary/saveas?model=ir.attachment&amp;id=%s&amp;field=datas&amp;filename_field=name' % attachment.id">
                        <span t-field="attachment.name" />
                      </a>
                    </td>
                    <td>
                      <span t-field="attachment.write_date" />
                    </td>
                    <td>
                      <span t-field="attachment.mimetype" />
                    </td>
                    <td class="text-center">
                      <a t-att-href="'/my/salon/%s/attachment/%s/delete' % (home_user.id, attachment.id)" class="fa fa-trash-o fa-2x" />
                    </td>
                  </tr>
                </tbody>
              </table>
              <div t-attf-class="form-group #{validation.get('image') and 'has-error' or ''}">
                <label class="col-md-3 col-sm-4 control-label" for="name">Attachments</label>
                <div class="col-md-7 col-sm-8">
                  <input type="file" name="attachment" placeholder="File to upload pdf/jpg/png" accept="image/*,text/plain,application/pdf,application/vnd.ms-excel,app" capture="camera" />
                  <p class="help-block">
                    <small t-esc="help.get('help_contact_attachment', '')" />
                  </p>
                </div>
              </div>
              <div class="container">
                <div class="pull-right mb16">
                  <a href="/my/salon" role="button" class="btn btn-default btn-lg">Back</a>
                  <button t-if="my_orders_access_control == ''" type="submit" class="btn btn-primary btn-lg">Save</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </t>
    </template>
    <template id="company_info_form" name="Website Home Company Info Form">
      <div class="col-md-12 mt32 mb32" style="padding: 0px;">
        <ul class="nav nav-tabs">
          <!-- ## CLIENT INTERFACE :: TABS FOR SETTINGS -->
          <li id="nav_delivery" class="active">
            <a data-toggle="tab" href="#delivery" class="hidden-xs">Delivery Address</a>
            <a data-toggle="tab" href="#delivery" class="hidden-lg hidden-md hidden-sm">
              <i class="fa fa-truck" />
            </a>
          </li>
          <t t-if="not home_user.has_group('webshop_dermanord.group_dn_sk')">
            <li id="nav_invoice" class="">
              <a data-toggle="tab" href="#invoice" class="hidden-xs">Invoice Address</a>
              <a data-toggle="tab" href="#invoice" class="hidden-lg hidden-md hidden-sm">
                <i class="fa fa-file-o" />
              </a>
            </li>
            <li id="nav_contact" class="">
              <a data-toggle="tab" href="#contact" class="hidden-xs">My Employees</a>
              <a data-toggle="tab" href="#contact" class="hidden-lg hidden-md hidden-sm">
                <i class="fa fa-users" />
              </a>
            </li>
            <li id="nav_social_media" class="">
              <!-- ## SOCIAL MEDIA :: CLIENT INTERFACE -->
              <a data-toggle="tab" href="#social_media" class="hidden-xs">Social Media</a>
              <a data-toggle="tab" href="#social_media" class="hidden-lg hidden-md hidden-sm">
                <i class="fa fa-social_media" />
              </a>
            </li>
          </t>
        </ul>
        <div class="tab-content">
          <div id="delivery" class="tab-pane fade in active">
            <t t-set="input_attrs" t-value="{} if 'delivery' in address_types_readonly else {}" />
            <p id="instruction_delivery" />
            <t t-if="delivery and len(delivery) &gt; 1">
              <t t-set="delivery_first" t-value="True" />
              <div id="delivery-accordion" class="panel-group">
                <div t-foreach="delivery" t-as="deliv" class="panel panel-default">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-parent="#delivery-accordion" t-att-href="'#delivery-accordion-%s' % deliv.id" t-esc="deliv.street or deliv.name" />
                    </h4>
                  </div>
                  <div t-att-id="'delivery-accordion-%s' % deliv.id" t-att-class="'panel-collapse collapse%s' % ('' if delivery_first else ' in')">
                    <div class="panel-body">
                      <div t-att-class="'form-group %s' %validation.get('delivery_id%s_street' % deliv.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="delivery_street">Street</label>
                        <div class="col-md-7 col-sm-8">
                          <input type="text" class="form-control" t-att-name="'delivery_id%s_street' % deliv.id" t-att-value="deliv.street" placeholder="" t-att="input_attrs" />
                          <small t-esc="help.get('help_delivery_street', '')" />
                        </div>
                      </div>
                      <div t-att-class="'form-group %s' %validation.get('delivery_id%s_street2' % deliv.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="delivery_street2">Street row 2</label>
                        <div class="col-md-7 col-sm-8">
                          <input type="text" class="form-control" t-att-name="'delivery_id%s_street2' % deliv.id" t-att-value="deliv.street2" placeholder="" t-att="input_attrs" />
                          <small t-esc="help.get('help_delivery_street2', '')" />
                        </div>
                      </div>
                      <div t-att-class="'form-group %s' %validation.get('delivery_id%s_zip' % deliv.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="delivery_zip">Zip</label>
                        <div class="col-md-7 col-sm-8">
                          <input type="text" class="form-control" t-att-name="'delivery_id%s_zip' % deliv.id" t-att-value="deliv.zip" placeholder="" t-att="input_attrs" />
                          <small t-esc="help.get('help_delivery_zip', '')" />
                        </div>
                      </div>
                      <div t-att-class="'form-group %s' %validation.get('delivery_id%s_city' % deliv.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="delivery_city">City</label>
                        <div class="col-md-7 col-sm-8">
                          <input type="text" class="form-control" t-att-name="'delivery_id%s_city' % deliv.id" t-att-value="deliv.city" placeholder="" t-att="input_attrs" />
                          <small t-esc="help.get('help_delivery_city', '')" />
                        </div>
                      </div>
                      <div t-att-class="'form-group %s' %validation.get('delivery_id%s_country_id' % deliv.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="delivery_country_id">Country</label>
                        <div class="col-md-7 col-sm-8">
                          <select class="form-control" t-att-name="'delivery_id%s_country_id' % deliv.id" t-att="input_attrs">
                            <t t-foreach="country_selection" t-as="country">
                              <option t-att-value="country[0]" t-att="{'selected': '1'} if (not deliv.country_id and country[0] == default_country) or (country[0] == (deliv.country_id and deliv.country_id.id)) else {}">
                                <t t-esc="country[1]" />
                              </option>
                            </t>
                          </select>
                          <small t-esc="help.get('help_delivery_country', '')" />
                        </div>
                      </div>
                      <div t-att-class="'form-group %s' %validation.get('delivery_id%s_phone' % deliv.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="delivery_phone">Phone</label>
                        <div class="col-md-7 col-sm-8">
                          <input type="text" class="form-control" t-att-name="'delivery_id%s_phone' % deliv.id" t-att-value="deliv.phone" placeholder="" t-att="input_attrs" />
                          <small t-esc="help.get('help_delivery_phone', '')" />
                        </div>
                      </div>
                      <div t-att-class="'form-group %s' %validation.get('delivery_id%s_email' % deliv.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="delivery_email">Email</label>
                        <div class="col-md-7 col-sm-8">
                          <input type="email" class="form-control" t-att-name="'delivery_id%s_email' % deliv.id" t-att-value="deliv.email" placeholder="" />
                          <small t-esc="help.get('help_delivery_email', '')" />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </t>
            <t t-if="not delivery or len(delivery) &lt;= 1">
              <div t-att-class="'form-group %s' %validation.get('delivery_street', '')">
                <label class="col-md-3 col-sm-4 control-label" for="delivery_street">Street</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" name="delivery_street" t-att-value="delivery.street if delivery else home_user.partner_id.commercial_partner_id.street" placeholder="" t-att="input_attrs" />
                  <small t-esc="help.get('help_delivery_street', '')" />
                </div>
              </div>
              <div t-att-class="'form-group %s' %validation.get('delivery_street2', '')">
                <label class="col-md-3 col-sm-4 control-label" for="delivery_street2">Street row 2</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" name="delivery_street2" t-att-value="delivery.street2 if delivery else home_user.partner_id.commercial_partner_id.street2" placeholder="" t-att="input_attrs" />
                  <small t-esc="help.get('help_delivery_street2', '')" />
                </div>
              </div>
              <div t-att-class="'form-group %s' %validation.get('delivery_zip', '')">
                <label class="col-md-3 col-sm-4 control-label" for="delivery_zip">Zip</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" name="delivery_zip" t-att-value="delivery.zip if delivery else home_user.partner_id.commercial_partner_id.zip" placeholder="" t-att="input_attrs" />
                  <small t-esc="help.get('help_delivery_zip', '')" />
                </div>
              </div>
              <div t-att-class="'form-group %s' %validation.get('delivery_city', '')">
                <label class="col-md-3 col-sm-4 control-label" for="delivery_city">City</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" name="delivery_city" t-att-value="delivery.city if delivery else home_user.partner_id.commercial_partner_id.city" placeholder="" t-att="input_attrs" />
                  <small t-esc="help.get('help_delivery_city', '')" />
                </div>
              </div>
              <div t-att-class="'form-group %s' %validation.get('delivery_country_id', '')">
                <label class="col-md-3 col-sm-4 control-label" for="delivery_country_id">Country</label>
                <div class="col-md-7 col-sm-8">
                  <select class="form-control" name="delivery_country_id" t-att="input_attrs">
                    <t t-foreach="country_selection" t-as="country">
                      <option t-att-value="country[0]" t-att="{'selected': '1'} if (delivery and ((not delivery.country_id and country[0] == default_country) or (country[0] == (delivery.country_id and delivery.country_id.id)))) or (not delivery and ((not home_user.partner_id.commercial_partner_id.country_id and country[0] == default_country) or (country[0] == (home_user.partner_id.commercial_partner_id.country_id and home_user.partner_id.commercial_partner_id.country_id.id)))) else {}">
                        <t t-esc="country[1]" />
                      </option>
                    </t>
                  </select>
                  <small t-esc="help.get('help_delivery_country', '')" />
                </div>
              </div>
              <div t-att-class="'form-group %s' %validation.get('delivery_phone', '')">
                <label class="col-md-3 col-sm-4 control-label" for="delivery_phone">Phone</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" name="delivery_phone" t-att-value="delivery.phone if delivery else home_user.partner_id.commercial_partner_id.phone" placeholder="" t-att="input_attrs" />
                  <small t-esc="help.get('help_delivery_phone', '')" />
                </div>
              </div>
              <div t-att-class="'form-group %s' %validation.get('delivery_email', '')">
                <label class="col-md-3 col-sm-4 control-label" for="delivery_email">Email</label>
                <div class="col-md-7 col-sm-8">
                  <input type="email" class="form-control" name="delivery_email" t-att-value="delivery.email if delivery else ''" placeholder="" />
                  <small t-esc="help.get('help_delivery_email', '')" />
                </div>
              </div>
            </t>
          </div>
          <!--
               ## SOCIAL MEDIA ** UPDATE CUSTOMER PROFILE
               ## FACEBOOK, INSTAGRAM, YOUTUBE, TWITTER
          -->
          <t t-if="not home_user.has_group('webshop_dermanord.group_dn_sk')">
            <div id="social_media" class="tab-pane fade">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a data-toggle="collapse" data-parent="#social_media-accordion" />
                </h4>
              </div>
              <div t-att-class="'form-group %s' %validation.get('social_facebook', '')">
                <label class="col-md-3 col-sm-4 control-label" for="social_facebook">Facebook</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" name="social_facebook" t-att-value="home_user.commercial_partner_id.social_facebook" placeholder="Social media link" />
                  <small t-esc="help.get('help_social_facebook', '')" />
                </div>
              </div>
              <div t-att-class="'form-group %s' %validation.get('social_instagram', '')">
                <label class="col-md-3 col-sm-4 control-label" for="social_instagram">Instagram</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" name="social_instagram" t-att-value="home_user.partner_id.commercial_partner_id.social_instagram" placeholder="Social media link" />
                  <small t-esc="help.get('help_social_instagram', '')" />
                </div>
              </div>
              <div t-att-class="'form-group %s' %validation.get('social_youtube', '')">
                <label class="col-md-3 col-sm-4 control-label" for="social_youtube">Youtube</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" name="social_youtube" t-att-value="home_user.partner_id.commercial_partner_id.social_youtube" placeholder="Social media link" />
                  <small t-esc="help.get('help_social_youtube', '')" />
                </div>
              </div>
              <div t-att-class="'form-group %s' %validation.get('social_twitter', '')">
                <label class="col-md-3 col-sm-4 control-label" for="social_twitter">Twitter</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" name="social_twitter" t-att-value="home_user.partner_id.commercial_partner_id.social_twitter" placeholder="Social media link" />
                  <small t-esc="help.get('help_social_twitter', '')" />
                </div>
              </div>
            </div>
          </t>
          <div id="invoice" class="tab-pane fade">
            <p id="instruction_invoice" />
            <t t-set="input_attrs" t-value="{'readonly': '1'} if 'invoice' in address_types_readonly else {}" />
            <t t-if="invoice and len(invoice) &gt; 1">
              <t t-set="invoice_first" t-value="True" />
              <div id="invoice-accordion" class="panel-group">
                <div t-foreach="invoice" t-as="invoic" class="panel panel-default">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-parent="#invoice-accordion" t-att-href="'#invoice-accordion-%s' % invoic.id" t-esc="invoic.street or invoic.name" />
                    </h4>
                  </div>
                  <div t-att-id="'invoice-accordion-%s' % invoic.id" t-att-class="'panel-collapse collapse%s' % ('' if invoice_first else ' in')">
                    <div class="panel-body">
                      <div t-att-class="'form-group %s' %validation.get('invoice_id%s_street' % invoic.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="invoice_street">Street</label>
                        <div class="col-md-7 col-sm-8">
                          <input type="text" class="form-control" t-att-name="'invoice_id%s_street' % invoic.id" t-att-value="invoic.street" placeholder="" t-att="input_attrs" />
                          <small t-esc="help.get('help_invoice_street', '')" />
                        </div>
                      </div>
                      <div t-att-class="'form-group %s' %validation.get('invoice_id%s_street2' % invoic.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="invoice_street2">Street row 2</label>
                        <div class="col-md-7 col-sm-8">
                          <input type="text" class="form-control" t-att-name="'invoice_id%s_street2' % invoic.id" t-att-value="invoic.street2" placeholder="" t-att="input_attrs" />
                          <small t-esc="help.get('help_invoice_street2', '')" />
                        </div>
                      </div>
                      <div t-att-class="'form-group %s' %validation.get('invoice_id%s_zip' % invoic.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="invoice_zip">Zip</label>
                        <div class="col-md-7 col-sm-8">
                          <input type="text" class="form-control" t-att-name="'invoice_id%s_zip' % invoic.id" t-att-value="invoic.zip" placeholder="" t-att="input_attrs" />
                          <small t-esc="help.get('help_invoice_zip', '')" />
                        </div>
                      </div>
                      <div t-att-class="'form-group %s' %validation.get('invoice_id%s_city' % invoic.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="invoice_city">City</label>
                        <div class="col-md-7 col-sm-8">
                          <input type="text" class="form-control" t-att-name="'invoice_id%s_city' % invoic.id" t-att-value="invoic.city" placeholder="" t-att="input_attrs" />
                          <small t-esc="help.get('help_invoice_city', '')" />
                        </div>
                      </div>
                      <div t-att-class="'form-group %s' %validation.get('invoice_id%s_country_id' % invoic.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="invoice_country_id">Country</label>
                        <div class="col-md-7 col-sm-8">
                          <select class="form-control" t-att-name="'invoice_id%s_country_id' % invoic.id" t-att="input_attrs">
                            <t t-foreach="country_selection" t-as="country">
                              <option t-att-value="country[0]" t-att="{'selected': '1'} if (not invoic.country_id and country[0] == default_country) or (country[0] == (invoic.country_id and invoic.country_id.id)) else {}">
                                <t t-esc="country[1]" />
                              </option>
                            </t>
                          </select>
                          <small t-esc="help.get('help_invoice_country', '')" />
                        </div>
                      </div>
                      <div t-att-class="'form-group %s' %validation.get('invoice_id%s_phone' % invoic.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="invoice_phone">Phone</label>
                        <div class="col-md-7 col-sm-8">
                          <input type="text" class="form-control" t-att-name="'invoice_id%s_phone' % invoic.id" t-att-value="invoic.phone" placeholder="" t-att="input_attrs" />
                          <small t-esc="help.get('help_invoice_phone', '')" />
                        </div>
                      </div>
                      <div t-att-class="'form-group %s' %validation.get('invoice_id%s_email' % invoic.id, '')">
                        <label class="col-md-3 col-sm-4 control-label" for="invoice_email">Email</label>
                        <div class="col-md-7 col-sm-8">
                          <input type="email" class="form-control" t-att-name="'invoice_id%s_email' % invoic.id" t-att-value="invoic.email" placeholder="" t-att="input_attrs" />
                          <small t-esc="help.get('help_invoice_email', '')" />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </t>
            <t t-if="not home_user.has_group('webshop_dermanord.group_dn_sk')">
              <t t-if="not invoice or len(invoice) &lt;= 1">
                <div t-att-class="'form-group %s' %validation.get('invoice_street', '')">
                  <label class="col-md-3 col-sm-4 control-label" for="invoice_street">Street</label>
                  <div class="col-md-7 col-sm-8">
                    <input type="text" class="form-control" name="invoice_street" t-att-value="invoice.street if invoice else home_user.partner_id.commercial_partner_id.street" placeholder="" t-att="input_attrs" />
                    <small t-esc="help.get('help_invoice_street', '')" />
                  </div>
                </div>
                <div t-att-class="'form-group %s' %validation.get('invoice_street2', '')">
                  <label class="col-md-3 col-sm-4 control-label" for="invoice_street2">Street row 2</label>
                  <div class="col-md-7 col-sm-8">
                    <input type="text" class="form-control" name="invoice_street2" t-att-value="invoice.street2 if invoice else home_user.partner_id.commercial_partner_id.street2" placeholder="" t-att="input_attrs" />
                    <small t-esc="help.get('help_invoice_street2', '')" />
                  </div>
                </div>
                <div t-att-class="'form-group %s' %validation.get('invoice_zip', '')">
                  <label class="col-md-3 col-sm-4 control-label" for="invoice_zip">Zip</label>
                  <div class="col-md-7 col-sm-8">
                    <input type="text" class="form-control" name="invoice_zip" t-att-value="invoice.zip if invoice else home_user.partner_id.commercial_partner_id.zip" placeholder="" t-att="input_attrs" />
                    <small t-esc="help.get('help_invoice_zip', '')" />
                  </div>
                </div>
                <div t-att-class="'form-group %s' %validation.get('invoice_city', '')">
                  <label class="col-md-3 col-sm-4 control-label" for="invoice_city">City</label>
                  <div class="col-md-7 col-sm-8">
                    <input type="text" class="form-control" name="invoice_city" t-att-value="invoice.city if invoice else home_user.partner_id.commercial_partner_id.city" placeholder="" t-att="input_attrs" />
                    <small t-esc="help.get('help_invoice_city', '')" />
                  </div>
                </div>
                <div t-att-class="'form-group %s' %validation.get('invoice_country_id', '')">
                  <label class="col-md-3 col-sm-4 control-label" for="invoice_country_id">Country</label>
                  <div class="col-md-7 col-sm-8">
                    <select class="form-control" name="invoice_country_id" t-att="input_attrs">
                      <t t-foreach="country_selection" t-as="country">
                        <option t-att-value="country[0]" t-att="{'selected': '1'} if (invoice and ((not invoice.country_id and country[0] == default_country) or (country[0] == (invoice.country_id and invoice.country_id.id)))) or (not invoice and ((not home_user.partner_id.commercial_partner_id.country_id and country[0] == default_country) or (country[0] == (home_user.partner_id.commercial_partner_id.country_id and home_user.partner_id.commercial_partner_id.country_id.id)))) else {}">
                          <t t-esc="country[1]" />
                        </option>
                      </t>
                    </select>
                    <small t-esc="help.get('help_invoice_country', '')" />
                  </div>
                </div>
                <div t-att-class="'form-group %s' %validation.get('invoice_phone', '')">
                  <label class="col-md-3 col-sm-4 control-label" for="invoice_phone">Phone</label>
                  <div class="col-md-7 col-sm-8">
                    <input type="text" class="form-control" name="invoice_phone" t-att-value="invoice.phone if invoice else home_user.partner_id.commercial_partner_id.phone" placeholder="" t-att="input_attrs" />
                    <small t-esc="help.get('help_invoice_phone', '')" />
                  </div>
                </div>
                <div t-att-class="'form-group %s' %validation.get('invoice_email', '')">
                  <label class="col-md-3 col-sm-4 control-label" for="invoice_email">Email</label>
                  <div class="col-md-7 col-sm-8">
                    <input type="email" class="form-control" name="invoice_email" t-att-value="invoice.email if invoice else home_user.partner_id.commercial_partner_id.email" placeholder="" t-att="input_attrs" />
                    <small t-esc="help.get('help_invoice_email', '')" />
                  </div>
                </div>
              </t>
            </t>
          </div>
          <div id="contact" class="tab-pane fade">
            <table class="table table-responsive table-striped table-bordered">
              <thead>
                <th />
                <th>Name</th>
                <th>Phone</th>
                <th>Cell</th>
                <th>Email</th>
                <th>Password Reset</th>
                <!--
                     <th/>
                -->
              </thead>
              <tbody>
                <tr t-foreach="home_user.partner_id.commercial_partner_id.child_ids.filtered(lambda c: c.type == 'contact')" t-as="contact">
                  <td>
                    <img style="width: 32px; margin: 4px; border-radius: 2px;" t-att-src="('data:image/png;base64,%s' % contact.image_small) if contact.image_small else '/base/static/src/img/avatar.png'" />
                  </td>
                  <td>
                    <a t-att-href="'/my/salon/%s/contact/%s' %(home_user.id, contact.id)">
                      <span t-field="contact.name" />
                      <t t-if="request.env['res.users'].search([('partner_id', '=', contact.id)])">
                        <t t-if="request.env.ref('website_portal_sale_1028.group_portal_admin') in request.env['res.users'].search([('partner_id', '=', contact.id)]).groups_id">
                          <i class="fa fa-user" title="Administrator" />
                        </t>
                      </t>
                    </a>
                  </td>
                  <td>
                    <span t-field="contact.phone" />
                  </td>
                  <td>
                    <span t-field="contact.mobile" />
                  </td>
                  <td>
                    <span t-field="contact.email" />
                  </td>
                  <!-- TODO: Add pwReset to this module -->
                  <td class="text-center">
                    <a href="javascript:void(0);" class="fa fa-envelope-o fa-2x" t-att-onclick="'''pwReset(%s, %s);''' %(home_user.id, contact.id)" t-if="contact.users.filtered(lambda r: r.active)" />
                    <!-- t-att-class="'fa %s fa-2x' % ('fa-envelope-o' if contact.users.filtered(lambda r: r.active) else 'fa-user-plus')" -->
                  </td>
                  <!--
                       <td class="text-center">
                       <a href="javascript:void(0);" t-att-data-modal-form-action="'/home/%s/contact/%s/delete' % (home_user.id, contact.id)" t-att-data-partner-name="contact.name" class="fa fa-trash-o fa-2x" data-toggle="modal" data-target="#delUserModal"/>
                       <a t-att-href="'/home/%s/contact/%s/delete' % (home_user.id, contact.id)" class="fa fa-trash-o fa-2x" />
                       </td>
                  -->
                </tr>
                <tr>
                  <td />
                  <td>
                    <a t-att-href="'/my/salon/%s/contact/new' % home_user.id">
                      <u>New Contact</u>
                    </a>
                  </td>
                  <td />
                  <td />
                  <td />
                  <td />
                  <!--
                       <td/>
                  -->
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </template>
    <template id="redirect_to_startpage" inherit_id="web.login" name="login redirect">
      <xpath expr="//input[@type='hidden']" position="replace">
        <t t-if="request.env.user.has_group('webshop_dermanord.group_dn_sk')">
          <input type="hidden" name="redirect" value="/" />
        </t>
      </xpath>
    </template>
    <template id="mass_mailing_design" inherit_id="website_mass_mailing.mail" name="mass_maing_design">
      <xpath expr="//div[@class='row']" position="replace">
        <t t-set="home_user" t-value="request.env.user" />
        <div class="row">
          <div class="container">
            <t t-if="not request.env.user.has_group('base.group_public')">
              <t t-call="website_portal_sale_1028.my_menu" />
            </t>
            <div class="col-sm-9">
              <div id="email_body_html" class="o_mail_body">
                <div t-raw="mail.body_html.replace('#website_token#', '')" />
              </div>
            </div>
          </div>
        </div>
      </xpath>
    </template>
    <template id="portal_my_salon" name="My salon">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1 class="page-header">My Salon</h1>
            <div class="modal fade" id="delUserModal" tabindex="-1" role="dialog" aria-labelledby="delUserModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="delUserModalLabel">Title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">x</span>
                    </button>
                  </div>
                  <form class="delUserModalForm">
                    <div class="modal-body">
                      <div class="form-group">
                        <label class="col-md-3 col-sm-4 control-label" for="company_name">Reason</label>
                        <div class="col-md-7 col-sm-8">
                          <input type="text" class="form-control" name="reason" placeholder="Reason for deleting this contact" />
                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                      <button type="submit" class="btn btn-primary delUserModalButton">Delete Contact</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
            <div id="info_div" t-if="company_form">
              <t t-if="not home_user.has_group('webshop_dermanord.group_dn_sk')">
                <h2 class="text-center">Company Information</h2>
              </t>
              <t t-if="home_user.has_group('webshop_dermanord.group_dn_sk')">
                <h2 class="text-center">Customer Information</h2>
              </t>
              <t t-set="input_attrs" t-value="{'readonly': '1'} if 'delivery' in address_types_readonly else {}" />
              <!--
                   <h4 class="text-center">(* = Required)</h4>
              -->
              <form id="info_form" t-att-action="'/my/salon/%s/info_update' % (home_user.id if home_user else user_id.id)" method="post" class="form-horizontal mt32" enctype="multipart/form-data" onsubmit="return formValidate();">
                <input type="hidden" name="home_user" t-att-value="home_user.id" />
                <div class="form-group">
                  <label class="col-md-3 col-sm-4 control-label" for="foobar1">Customer Number</label>
                  <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" name="foobar1">
                      <t t-esc="home_user.partner_id.commercial_partner_id.customer_no" />
                    </p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-md-3 col-sm-4 control-label" for="foobar2">Logged in as</label>
                  <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" name="foobar2">
                      <t t-esc="home_user.name" />
                      (
                      <t t-esc="home_user.login" />
                      )
                    </p>
                  </div>
                </div>
                <div t-att-class="'form-group'">
                  <label class="col-md-3 col-sm-4 control-label" for="company_name">Company Name</label>
                  <div class="col-md-7 col-sm-8">
                    <input type="text" class="form-control" name="company_name" readonly="" t-att-value="home_user.partner_id.commercial_partner_id.name" placeholder="" />
                  </div>
                </div>
                <t t-if="not home_user.has_group('webshop_dermanord.group_dn_sk')">
                  <div class="form-group">
                    <label class="col-md-3 col-sm-4 control-label" for="vat">Organization Number</label>
                    <div class="col-md-7 col-sm-8">
                      <p class="form-control-static" name="vat">
                        <t t-esc="home_user.partner_id.commercial_partner_id.vat" />
                      </p>
                    </div>
                  </div>
                  <div t-att-class="'form-group'">
                    <label class="col-md-3 col-sm-4 control-label" for="website_short_description">Company Description</label>
                    <div class="col-md-7 col-sm-8">
                      <textarea type="text" class="form-control" name="website_short_description" rows="10" cols="70">
                        <t t-set="translated_text" t-value="request.env['ir.translation'].search([('name', '=', 'res.partner,website_short_description'), ('type', '=', 'model'), ('lang', '=', request.env.lang), ('res_id', '=', home_user.partner_id.commercial_partner_id.id)])" />
                        <t t-if="translated_text">
                          <t t-esc="translated_text.value" />
                        </t>
                      </textarea>
                    </div>
                  </div>
                </t>
                <t t-call="website_portal_sale_1028.company_info_form" />
                <div class="col-md-12">
                  <div class="pull-right mb16">
                    <div class="">
                      <button id="submit_btn" class="btn btn-primary btn-lg">Save</button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
            <t t-if="home_user.has_group('webshop_dermanord.group_dn_sk')">
              <form class="delUserModalForm" t-att-action="'/my/salon/%s/add_tags' % (home_user.id if home_user else user_id.id)" method="post">
                <div class="modal-footer">
                  <button type="submit" class="btn btn-primary delUserModalButton delete_users">Delete Customer</button>
                </div>
              </form>
            </t>
            <!--             <div id="contact_div" t-if="contact_form">
                 <form id="info_form" t-att-action="'/my/salon/%s/contact/%s' %(home_user.id if home_user else user_id.id, contact.id if contact else 'new')" method="post" class="form-horizontal mt32" enctype="multipart/form-data" onsubmit="return formValidate();">
                 <t t-call="website_portal_sale_1028.contact_form" />
                 </form>
                 </div> -->
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_tags" name="my delete tags">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <div class="col-md-12">
            <h2 class="text-center">You will be deleted</h2>
            <h2 />
            <h2 />
            <br />
            <br />
          </div>
        </div>
      </t>
    </template>
    <template id="children_info">
      <div class="container">
        <ul class="nav nav-pills">
          <t t-foreach="home_user.partner_id.child_ids" t-as="child">
            <li t-att-class="'active' if child_index == 0 else ''">
              <a t-att-href="'#child_%s' %child.id" data-toggle="tab" class="list-group-item text-center">
                <span t-esc="child.name" class="hidden-xs" />
                <span t-esc="child.name[0]" class="hidden-lg hidden-md hidden-sm" />
              </a>
            </li>
          </t>
        </ul>
        <div class="tab-content">
          <t t-foreach="home_user.partner_id.child_ids" t-as="child">
            <div t-att-id="'child_%s' %child.id" t-att-class="'mt16 tab-pane fade %s' %('in active' if child_index == 0 else '')">
              <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_function' %child.id">Job Position</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_function' %child.id" t-att-value="child.function" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_email' %child.id">Email</label>
                <div class="col-md-7 col-sm-8">
                  <input type="email" class="form-control" t-att-name="'%s_email' %child.id" t-att-value="child.email" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_phone' %child.id">Phone</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_phone' %child.id" t-att-value="child.phone" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_mobile' %child.id">Mobile</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_mobile' %child.id" t-att-value="child.mobile" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_use_parent_address' %child.id">Use Company Address</label>
                <div class="col-md-7 col-sm-8">
                  <input id="use_parent_address" type="checkbox" t-att-name="'%s_use_parent_address' %child.id" value="1" t-att="{'checked': '1'} if child.use_parent_address else {}" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_type' %child.id">Address Type</label>
                <div class="col-md-7 col-sm-8">
                  <select class="form-control" t-att-name="'%s_type' %child.id">
                    <option value="default" t-att="{'selected': 'checked'} if child.type == 'default' else {}">Default</option>
                    <option value="invoice" t-att="{'selected': 'checked'} if child.type == 'invoice' else {}">Invoice</option>
                    <option value="delivery" t-att="{'selected': 'checked'} if child.type == 'delivery' else {}">Delivery</option>
                    <option value="contact" t-att="{'selected': 'checked'} if child.type == 'contact' else {}">Contact</option>
                    <option value="other" t-att="{'selected': 'checked'} if child.type == 'other' else {}">Other</option>
                  </select>
                </div>
              </div>
              <!-- this fileds should hide if child use parent address -->
              <div t-att-id="'child_street_%s' %child.id" t-att-class="'form-group %s' %('hidden' if child.use_parent_address else '')">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_street' %child.id">Street 1</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_street' %child.id" t-att-value="child.street" />
                </div>
              </div>
              <div t-att-id="'child_street2_%s' %child.id" t-att-class="'form-group %s' %('hidden' if child.use_parent_address else '')">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_street2' %child.id">Street row 2</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_street2' %child.id" t-att-value="child.street2" />
                </div>
              </div>
              <div t-att-id="'child_zip_%s' %child.id" t-att-class="'form-group %s' %('hidden' if child.use_parent_address else '')">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_zip' %child.id">Zip</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_zip' %child.id" t-att-value="child.zip" />
                </div>
              </div>
              <div t-att-id="'child_city_%s' %child.id" t-att-class="'form-group %s' %('hidden' if child.use_parent_address else '')">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_city' %child.id">City</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_city' %child.id" t-att-value="child.city" />
                </div>
              </div>
              <div t-att-id="'child_country_id_%s' %child_id" t-att-class="'form-group %s' %('hidden' if child.use_parent_address else '')">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_country_id' %child.id">Country</label>
                <div class="col-md-7 col-sm-8">
                  <select class="form-control" t-att-name="'%s_country_id' % child.id">
                    <t t-foreach="country_selection" t-as="country">
                      <option t-att-value="country[0]" t-att="{'selected': '1'} if (not child or not child.country_id and country[0] == default_country) or (country[0] == child.country_id.id) else {}">
                        <t t-esc="country[1]" />
                      </option>
                    </t>
                  </select>
                </div>
              </div>
            </div>
          </t>
        </div>
      </div>
    </template>
    <template id="portal_document_link" name="Document Link">
      <t t-if="doc.type == 'url'">
        <div style="font-size: 24px; font-weight: 500;">
          <a t-att-href="'%s' %(doc.url)" t-att-target="'_blank' if doc.open_new_window else ''">
            <i class="fa fa-link" />
            &amp;nbsp;
            <t t-esc="doc.name" />
          </a>
        </div>
      </t>
      <t t-if="doc.type == 'youtube'">
        <div style="font-size: 24px; font-weight: 500;">
          <a t-att-href="'%s' %(doc.url)" t-att-target="'_blank' if doc.open_new_window else ''">
            <i class="fa fa-youtube-square" />
            &amp;nbsp;
            <t t-esc="doc.name" />
          </a>
        </div>
      </t>
      <t t-if="doc.type == 'binary'">
        <div style="font-size: 24px; font-weight: 500;">
          <a t-att-href="'/my/documents/%s/document/%s/%s' %(portal_user.id, doc.id, (doc.datas_fname or doc.name).encode('ascii', 'replace'))">
            <i class="fa fa-file" />
            &amp;nbsp;
            <t t-esc="doc.name" />
          </a>
        </div>
      </t>
    </template>
    <template id="portal_my_image_archive" name="My image archive">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1 class="page-header">IMAGE BANK &amp; VIDEOS</h1>
            <t t-set="document_search_domain" t-value="request.env['ir.config_parameter'].get_param('website_portal_sale_1028.document_directory')" />
            <t t-foreach="website.sudo().portal_sale_document_get(home_user, document_search_domain or None)" t-as="doc">
              <t t-call="website_portal_sale_1028.portal_document_link" />
            </t>
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_pricelist" name="My pricelist">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1 class="page-header">PRICELIST</h1>
            <li>
              <i class="fa fa-download" />
              <a href="/my/pricelist/pdf">Prislista</a>
            </li>
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_news" name="My news">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1 class="page-header">NEWS &amp; OFFERS</h1>
            <t t-foreach="website.sudo().get_portal_documents('news')" t-as="doc">
              <t t-call="website_portal_sale_1028.portal_document_link" />
            </t>
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_events" name="My events">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1 class="page-header">EVENTS &amp; TREATMENTS</h1>
            <t t-foreach="website.sudo().get_portal_documents('event')" t-as="doc">
              <t t-call="website_portal_sale_1028.portal_document_link" />
            </t>
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_compendium" name="My compendium">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1 class="page-header">COMPENDIUM</h1>
            <t t-foreach="website.sudo().get_portal_documents('compendium')" t-as="doc">
              <t t-call="website_portal_sale_1028.portal_document_link" />
            </t>
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_reclaim" name="My reclaim">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1 class="page-header">MY RECLAIMS</h1>
            <!--     <t t-foreach="request.env['crm.claim'].search([('name', '=', 'name')])" t-as="reclaim">
                 <t t-esc="reclaim.display_name" />
                 </t> -->
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_other" name="My other">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1 class="page-header">MISCELLANEOUS</h1>
            <t t-foreach="website.sudo().get_portal_documents('other')" t-as="doc">
              <t t-call="website_portal_sale_1028.portal_document_link" />
            </t>
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_buy_info" name="My buy info">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1 class="page-header">BUYINFO</h1>
            <div id="wrap" class="oe_structure oe_empty" />
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_obsolete" name="My obsolete products">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <h1 class="page-header col-md-8">OBSOLETE PRODUCTS</h1>
          <div class="col-md-9">
            <div class="col-md-12">
              <t t-foreach="request.env['product.product'].search([('state', '=', 'end'), ('sale_ok', '=', True)])" t-as="variant">
                <h5>
                  <t t-esc="variant.display_name" />
                </h5>
              </t>
              <br />
            </div>
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_mail" name="My mail">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <h1 class="page-header col-md-8">MAIL &amp; SUBSCRIBERS</h1>
          <div class="col-md-offset-3">
            <div class="col-md-9">
              <h3 class="">Sent Mails</h3>
              <t t-if="mails">
                <t t-foreach="mails" t-as="mail">
                  <div class="row mail_lists_lines">
                    <div class="col-sm-2 col-xs-2">
                      <li>
                        <a t-att-data-value="mail.id" class="oe_mails" t-att-href="'/mass_mailing/%s/token/%s' % (mail.mass_mailing_id.id, mail.mass_mailing_id.token)">
                          <t t-esc="mail.mass_mailing_id.sent_date[2:10].replace('-', '')" />
                        </a>
                      </li>
                    </div>
                    <div class="col-sm-7 col-xs-7">
                      <li>
                        <a t-att-data-value="mail.id" class="oe_mails" t-att-href="'/mass_mailing/%s/token/%s' % (mail.mass_mailing_id.id, mail.mass_mailing_id.token)">
                          <t t-esc="mail.mass_mailing_id.name" />
                        </a>
                      </li>
                    </div>
                  </div>
                </t>
              </t>
            </div>
          </div>
          <div class="col-md-5">
            <div t-if="pager" class="o_portal_pager text-center">
              <t t-call="website.pager" />
            </div>
          </div>
          <div class="col-md-2" />
          <div class="col-md-6" />
          <div class="col-md-offset-3">
            <div class="col-md-9 my_subscribers">
              <div class="row">
                <h3 class="col-md-8">My subscribers</h3>
                <h4 class="col-md-4">Yes, I want this subscriptions</h4>
              </div>
              <t t-if="mailing_lists">
                <t t-foreach="mailing_lists" t-as="mailing_list">
                  <div class="row mail_lists_lines">
                    <div class="col-sm-10 col-xs-10">
                      <li>
                        <t t-esc="mailing_list['name']" />
                      </li>
                    </div>
                    <div class="col-md-2">
                      <input type="checkbox" t-att-data-mailing-list-id="mailing_list['id']" class="subscribe_for_mail" name="subscription box" t-att-data-value="mailing_list['id']" data-oe-id="" data-oe-model="ir.ui.view" t-att="{'checked': mailing_list['subscribed']}" />
                    </div>
                  </div>
                </t>
              </t>
            </div>
            <div class="col-md-9">
              <t t-if="is_admin">
                <div class="row">
                  <h3 class="col-md-6">My Employees</h3>
                </div>
                <t t-if="employees">
                  <t t-foreach="employees" t-as="employee">
                    <div class="row employee_row">
                      <div class="col-md-7">
                        <h2>
                          <t t-esc="employee.name" />
                        </h2>
                      </div>
                      <div class="col-md-5">
                        <h4>Yes, this user should have this subscriptions</h4>
                      </div>
                    </div>
                    <t t-if="employees_mailing_lists">
                      <t t-foreach="employees_mailing_lists[employee.id]" t-as="mailing_list2">
                        <div class="row mail_lists_lines">
                          <div class="col-sm-10 col-xs-10">
                            <li>
                              <t t-esc="mailing_list2['name']" />
                            </li>
                          </div>
                          <div class="col-md-2">
                            <input type="checkbox" t-att-data-mailing-list-id="mailing_list2['id']" class="subscribe_for_mail" name="subscription box2" t-att-data-value="mailing_list2['id']" t-att-data-partner-id="employee.id" data-oe-id="" data-oe-model="ir.ui.view" t-att="{'checked': mailing_list2['subscribed']}" />
                          </div>
                        </div>
                      </t>
                    </t>
                  </t>
                </t>
              </t>
              <div class="col-md-12">
                <button id="submit_btn_subscribers" class="btn btn-primary btn-lg">Save</button>
              </div>
              <br />
              <div class="col-md-4" />
              <div class="col-md-12">
                <div class="sucess_message alert alert-success hidden" role="alert">Your changes has been saved</div>
                <div class="red-alert-message alert alert-danger hidden" role="alert">Something went wrong, Try again.</div>
              </div>
            </div>
          </div>
        </div>
      </t>
    </template>
    <template id="my_credit_invoice" name="My Credit Invoice">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="order_table col-md-9">
            <h1 class="page-header">My Credit Invoices</h1>
            <t t-if="not invoices">
              <p>There are currently no credit invoices for your account.</p>
            </t>
            <t t-if="invoices">
              <table class="table table-hover o_my_status_table">
                <thead>
                  <tr class="active">
                    <th>Credit Invoice #</th>
                    <th>Credit Invoice Date</th>
                    <th>Expire Date</th>
                    <th>Status</th>
                    <th>Amount</th>
                  </tr>
                </thead>
                <t t-foreach="invoices" t-as="invoice">
                  <tr>
                    <td class="cell_overflow">
                      <a t-att-href="'/my/credits/%s' % invoice.id" t-att-title="invoice.number">
                        <t t-esc="invoice.number" />
                      </a>
                    </td>
                    <td>
                      <span t-field="invoice.date_invoice" />
                    </td>
                    <td>
                      <span t-field="invoice.date_due" />
                    </td>
                    <td>
                      <t t-if="invoice.state == 'open'">
                        <span class="label label-info">
                          <i class="fa fa-fw fa-clock-o" />
                          Waiting for Payment
                        </span>
                      </t>
                      <t t-if="invoice.state == 'paid'">
                        <span class="label label-default">
                          <i class="fa fa-fw fa-check" />
                          Paid
                        </span>
                      </t>
                      <t t-if="invoice.state == 'cancel'">
                        <span class="label label-default">
                          <i class="fa fa-fw fa-remove" />
                          Cancelled
                        </span>
                      </t>
                    </td>
                    <td>
                      <span t-field="invoice.amount_total" />
                      <span t-field="invoice.currency_id.name" />
                    </td>
                  </tr>
                </t>
              </table>
              <div t-if="pager" class="o_portal_pager text-center">
                <t t-call="website.pager" />
              </div>
            </t>
          </div>
        </div>
      </t>
    </template>
    <template id="credits_followup" name="Credit Invoice">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <div id="wrap" class="oe_structure oe_empty">
              <section>
                <div class="order_detail mt32 mb32" t-if="invoice">
                  <div class="row">
                    <form t-att-action="'/my/credits'" method="post">
                      <input type="hidden" name="tab" value="invoice" />
                      <button type="submit" class="btn btn-default" style="margin-left: 15px;">
                        <i class="fa fa-angle-left" />
                        <t t-set="tab" t-value="'orders'" />
                        Back To My Account
                      </button>
                    </form>
                    <div>
                      <div class="col-xs-12 col-md-5 col-lg-5">
                        <h3>
                          <!-- TODO -->
                          <t t-esc="invoice.name" />
                        </h3>
                      </div>
                      <a t-att-href="'/my/documents/%s/print/account.report_invoice/%s/%s.pdf' % (portal_user.id, invoice.id, invoice.name.encode('ascii', 'replace') if invoice.name else '')" target="_blank">
                        <i class="fa fa-download" />
                        &amp;nbsp;Download invoice
                        <t t-esc="invoice.number" />
                      </a>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <div class="container">
                        <div class="row">
                          <div class="col-md-12">
                            <h4>Credit Invoice Information</h4>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <strong>Credit Invoice Number</strong>
                          </div>
                          <div class="col-md-6">
                            <t t-esc="invoice.number" />
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <strong>Credit Invoice Date</strong>
                          </div>
                          <div class="col-md-6">
                            <t t-esc="invoice.date_invoice" />
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <strong>Credit Invoice Expire Date</strong>
                          </div>
                          <div class="col-md-6">
                            <t t-esc="invoice.date_due" />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <h4>Invoice Address</h4>
                    <div t-field="invoice.partner_id" t-field-options='{
                      "widget": "contact",
                      "fields": ["name", "address", "phone", "mobile", "fax", "email"]}' />
                  </div>
                  <div class="order_detail mt32 mb32">
                    <div class="row">
                      <div class="col-lg-12 col-md-12 col-sm-12">
                        <h4 class="text-center">
                          <strong>Products</strong>
                        </h4>
                        <table class="table">
                          <thead>
                            <th>Quantity</th>
                            <th>Name</th>
                            <th class="hidden-xs">Article number</th>
                            <th class="hidden-xs">Price</th>
                            <th>Total</th>
                          </thead>
                          <tbody>
                            <t t-foreach="invoice.invoice_line" t-as="line">
                              <tr>
                                <td>
                                  <span t-esc="int(line.quantity)" />
                                </td>
                                <td>
                                  <span t-field="line.name" />
                                </td>
                                <td class="hidden-xs">
                                  <t t-if="line.product_id">
                                    <span t-field="line.product_id.default_code" />
                                  </t>
                                </td>
                                <td class="hidden-xs">
                                  <span t-field="line.price_unit" style="white-space: nowrap;" t-field-options='{
									   "widget": "monetary",
									   "display_currency": "invoice.currency_id"
								   }' />
                                </td>
                                <td>
                                  <span t-field="line.price_subtotal" style="white-space: nowrap;" t-field-options='{
									   "widget": "monetary",
									   "display_currency": "invoice.currency_id"
								   }' />
                                </td>
                                <td class="invoice_line_buttons" />
                              </tr>
                            </t>
                          </tbody>
                        </table>
                      </div>
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                      <div class="pull-right col-md-4">
                        <p>
                          <label>Sum:</label>
                          <span t-field="invoice.amount_untaxed" style="white-space: nowrap;" t-field-options='{
                             "widget": "monetary",
                             "display_currency": "invoice.currency_id"
                         }' />
                        </p>
                        <p>
                          <label>Tax:</label>
                          <span t-field="invoice.amount_tax" style="white-space: nowrap;" t-field-options='{
                             "widget": "monetary",
                             "display_currency": "invoice.currency_id"
                         }' />
                        </p>
                        <hr />
                        <h4>
                          <label>Total:</label>
                          <span t-field="invoice.amount_total" style="white-space: nowrap;" t-field-options='{
                             "widget": "monetary",
                             "display_currency": "invoice.currency_id"
                         }' />
                        </h4>
                        <hr />
                      </div>
                      <div class="col-md-4">
                        <div>
                          <span t-field="invoice.comment" />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </div>
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_orders" name="My Sales Orders">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <ul class="nav nav-tabs col-sm-9">
            <li class="active">
              <a data-toggle="tab" href="#orders">My orders</a>
            </li>
            <t t-if="not request.env.user.has_group('webshop_dermanord.group_dn_sk')">
              <li>
                <a data-toggle="tab" href="#followup">My follow-ups</a>
              </li>
            </t>
          </ul>
          <div class="tab-content">
            <div id="orders" class="tab-pane fade in active">
              <div class="order_table col-md-9">
                <h1 class="page-header">My Orders</h1>
                <br />
                <div class="form-inline col-xs-10 col-sm-4 col-md-4">
                  <form t-att-action="'/my/orders'" method="post" style="margin-top: 20px; margin-bottom: 20px;">
                    <input type="hidden" name="tab" value="orders" />
                    <t t-foreach="order_filters" t-as="order_filter">
                      <input type="hidden" t-att-name="order_filter['id']" t-att-value="'1' if order_filter.get('active') else ''" />
                    </t>
                    <div class="container">
                      <div class="input-group">
                        <input name="order_search" class="search-query form-control" placeholder="Search..." type="text" t-att-value="order_search" />
                        <span class="input-group-btn">
                          <button type="submit" class="btn btn-default">
                            <i class="fa fa-search" />
                          </button>
                        </span>
                      </div>
                    </div>
                  </form>
                </div>
                <div class="col-xs-10 col-xs-offset-1" t-if="order_filters">
                  <t t-foreach="order_filters" t-as="order_filter">
                    <a href="#" t-att-class="'website-home-filter-button%s' % (' active' if order_filter.get('active') else '')" t-att-data-target="'''[name='%s']''' % order_filter['id']">
                      <span t-esc="order_filter['name']" />
                    </a>
                  </t>
                </div>
                <div t-if="pager" class="o_portal_pager text-right text-sm-center">
                  <t t-call="website.pager" />
                </div>
                <t t-if="not orders">
                  <p>No orders yet</p>
                </t>
                <t t-if="orders">
                  <table class="table table-responsive table-striped table-hover o_my_status_table">
                    <thead>
                      <tr class="active">
                        <th>
                          <b>Order number</b>
                        </th>
                        <th>
                          <b>Date</b>
                        </th>
                        <th>
                          <b>Beställare</b>
                        </th>
                        <th>
                          <b>Tracking</b>
                        </th>
                        <th>
                          <b>State</b>
                        </th>
                        <th />
                        <th>
                          <b>Total</b>
                        </th>
                      </tr>
                    </thead>
                    <t t-foreach="orders" t-as="order">
                      <tr>
                        <td>
                          <a t-attf-href="/my/orders/{{order.id}}?{{keep_query()}}">
                            <t t-esc="order.name" />
                          </a>
                        </td>
                        <td>
                          <span t-esc="order.date_order[:10] " />
                        </td>
                        <td>
                          <span t-field="order.partner_id.name" />
                        </td>
                        <td>
                          <t t-foreach="order.picking_ids" t-as="picking">
                            <t t-if="not picking.unifaun_track_and_trace_url()" />
                            <t t-if="picking.unifaun_track_and_trace_url()">
                              <a t-att-href="picking.unifaun_track_and_trace_url()" t-att-title="picking.name" target="_blank">
                                <span class="text-center fa fa-map-marker" />
                              </a>
                            </t>
                          </t>
                        </td>
                        <td>
                          <t t-set="invoice_list" t-value="order.my_order_state_per_invoice_frontend()" />
                          <t t-if="len(invoice_list) > 1">
                            <t t-foreach="invoice_list" t-as="invoice_status">
                              <span t-esc="invoice_status" />
                              <br />
                            </t>
                          </t>
                          <t t-if="len(invoice_list) == 1">
                            <span t-esc="invoice_list[0]" />
                          </t>
                        </td>
                        <td />
                        <td>
                          <!-- TODO: make this correct for all currencies. Look at website_sale. -->
                          <span t-field="order.amount_total" />
                          <span t-field="order.currency_id.name" />
                        </td>
                      </tr>
                    </t>
                  </table>
                </t>
              </div>
            </div>
            <t t-if="not request.env.user.has_group('webshop_dermanord.group_dn_sk')">
              <div id="followup" class="tab-pane fade">
                <div class="col-md-9 order_table">
                  <h1 class="page-header">My followups</h1>
                  <table class="table table-responsive table-striped table-hover o_my_status_table">
                    <thead>
                      <tr class="active">
                        <th>Effektivt datum</th>
                        <th>Bolag</th>
                        <th>Verifikat</th>
                        <th>Förfallodatum</th>
                        <th>Delvis avstämt</th>
                        <th>Balans</th>
                      </tr>
                    </thead>
                    <t t-foreach="move_line_table" t-as="follow">
                      <tr>
                        <td class="cell_overflow">
                          <t t-esc="follow.date" />
                        </td>
                        <td class="cell_overflow">
                          <span t-field="follow.company_id" />
                        </td>
                        <td class="cell_overflow">
                          <span t-field="follow.move_id" />
                        </td>
                        <td class="cell_overflow">
                          <span t-field="follow.date_maturity" />
                        </td>
                        <td class="cell_overflow">
                          <span t-field="follow.reconcile_partial_id" />
                        </td>
                        <td class="cell_overflow">
                          <t t-esc="follow.result" />
                          <span t-field="follow.currency_id.name" />
                        </td>
                      </tr>
                    </t>
                  </table>
                </div>
              </div>
            </t>
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_invoices" name="My Invoices and Payments">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="invoice_table col-md-9">
            <h3 class="page-header">Your Invoices and Payments</h3>
            <t t-if="not invoices">
              <p>There are currently no invoices for your account.</p>
            </t>
            <t t-if="invoices">
              <table class="table table-hover o_my_status_table">
                <thead>
                  <tr class="active">
                    <th>Invoice #</th>
                    <th>Invoice Date</th>
                    <th>Due Date</th>
                    <th />
                    <th />
                    <th>Amount Due</th>
                  </tr>
                </thead>
                <t t-foreach="invoices" t-as="invoice">
                  <tr>
                    <td class="cell_overflow">
                      <a t-att-href="'/my/invoices/pdf/%s' % invoice.id" t-att-title="invoice.number">
                        <t t-esc="invoice.number" />
                      </a>
                    </td>
                    <td>
                      <span t-field="invoice.date_invoice" />
                    </td>
                    <td>
                      <span t-field="invoice.date_due" />
                    </td>
                    <td>
                      <t t-if="invoice.state == 'open'">
                        <span class="label label-info">
                          <i class="fa fa-fw fa-clock-o" />
                          Waiting for Payment
                        </span>
                      </t>
                      <t t-if="invoice.state == 'paid'">
                        <span class="label label-default">
                          <i class="fa fa-fw fa-check" />
                          Paid
                        </span>
                      </t>
                      <t t-if="invoice.state == 'cancel'">
                        <span class="label label-default">
                          <i class="fa fa-fw fa-remove" />
                          Cancelled
                        </span>
                      </t>
                    </td>
                    <td>
                      <a t-if="invoice.state == 'open'" t-attf-href="/website_payment/pay?reference=#{invoice.number}&amp;amount=#{invoice.residual}&amp;currency_id=#{invoice.currency_id.id}&amp;country_id=#{invoice.partner_id.country_id.id}" alt="Pay Now" class="btn btn-xs btn-primary">
                        <i class="fa fa-arrow-circle-right" />
                        Pay Now
                      </a>
                    </td>
                    <td>
                      <span t-field="invoice.residual" t-options='{"widget": "monetary", "display_currency": invoice.currency_id}' />
                    </td>
                  </tr>
                </t>
              </table>
              <div t-if="pager" class="o_portal_pager text-center">
                <t t-call="website.pager" />
              </div>
            </t>
          </div>
        </div>
      </t>
    </template>
    <template id="orders_followup" name="Sales Order">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <div id="wrap" class="oe_structure oe_empty">
              <section>
                <div class="order_detail mt32 mb32" t-if="order">
                  <div class="row">
                    <form t-att-action="'/my/orders'" method="post">
                      <input type="hidden" name="tab" value="orders" />
                      <button type="submit" class="btn btn-default" style="margin-left: 15px;">
                        <i class="fa fa-angle-left" />
                        <t t-set="tab" t-value="'orders'" />
                        Back To My Account
                      </button>
                    </form>
                    <div>
                      <div class="col-xs-12 col-md-5 col-lg-5">
                        <t t-set="invoice_list" t-value="order.order_state_per_invoice_frontend()" />
                        <h3>
                          <!-- TODO -->
                          <t t-esc="order.name" />
                          <t t-if="len(invoice_list) == 1">
                            -
                            <span t-esc="invoice_list[0]" />
                          </t>
                        </h3>
                        <t t-if="len(invoice_list) > 1">
                          <t t-foreach="invoice_list" t-as="invoice_status">
                            &amp;emsp;
                            <span t-esc="invoice_status" />
                            <br />
                          </t>
                        </t>
                      </div>
                      <div class="order-detail-header-link-box col-xs-12 col-md-7 col-lg-7">
                        <a t-att-href="'/my/documents/%s/print/sale.report_saleorder/%s/%s.pdf' % (home_user.id, order.id, order.name)" target="_blank">
                          <i class="fa fa-download" />
                          &amp;nbsp;Download order
                        </a>
                        <t t-foreach="order.invoice_ids" t-as="invoice">
                          <a t-att-href="'/my/documents/%s/print/account.report_invoice/%s/%s.pdf' % (home_user.id, invoice.id, invoice.name.encode('ascii', 'replace') if invoice.name else '')" target="_blank">
                            <i class="fa fa-download" />
                            &amp;nbsp;Download invoice
                            <t t-esc="invoice.number" />
                          </a>
                        </t>
                        <t t-foreach="order.picking_ids" t-as="picking">
                          <a t-att-href="'/my/documents/%s/print/stock_delivery_slip.stock_delivery_slip/%s/%s.pdf' % (home_user.id, picking.id, picking.name)" target="_blank">
                            <i class="fa fa-download" />
                            &amp;nbsp;Download picking
                            <t t-esc="picking.name" />
                          </a>
                        </t>
                        <a t-att-href="'/my/orders/%s/order/%s/copy' % (home_user.id, order.id)" id="oe_portal_sale_copy_order" target="_blank">
                          <i class="fa fa-plus" />
                          &amp;nbsp;Copy to cart
                        </a>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <div class="container">
                        <div class="row">
                          <div class="col-md-12">
                            <h4>Order information</h4>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <strong>Customer number</strong>
                          </div>
                          <div class="col-md-6">
                            <t t-esc="order.partner_id.customer_no or ''" />
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <strong>Order number</strong>
                          </div>
                          <div class="col-md-6">
                            <t t-esc="order.name" />
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <strong>Order date</strong>
                          </div>
                          <div class="col-md-6">
                            <t t-esc="order.date_order" />
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <strong>Payment method</strong>
                          </div>
                          <div class="col-md-6">
                            <t t-esc="order.payment_acquirer_id.name" />
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <strong>Delivery method</strong>
                          </div>
                          <div class="col-md-6">
                            <t t-esc="order.carrier_id.name" />
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6">
                            <strong>Tracking number</strong>
                          </div>
                          <div class="col-md-6">
                            <t t-foreach="order.picking_ids" t-as="picking">
                              <t t-if="picking.unifaun_track_and_trace_url()">
                                <a t-att-href="picking.unifaun_track_and_trace_url()" t-att-title="picking.name" target="_blank">
                                  <span class="text-center fa fa-map-marker" />
                                </a>
                              </t>
                            </t>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <h4>Delivery Address</h4>
                      <div t-field="order.partner_shipping_id" t-field-options='{
                      "widget": "contact",
                      "fields": ["name", "address", "phone", "mobile", "fax", "email"]}' />
                    </div>
                    <div class="col-md-4">
                      <h4>Invoice Address</h4>
                      <div t-field="order.partner_invoice_id" t-field-options='{
                      "widget": "contact",
                      "fields": ["name", "address", "phone", "mobile", "fax", "email"]}' />
                    </div>
                  </div>
                  <div id="order_buttons" class="mt32 mb32" />
                </div>
                <div class="order_detail mt32 mb32">
                  <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                      <h4 class="text-center">
                        <strong>Products</strong>
                      </h4>
                      <table class="table">
                        <thead>
                          <th>Quantity</th>
                          <th>Name</th>
                          <th class="hidden-xs">Article number</th>
                          <th class="hidden-xs">Price</th>
                          <th>Total</th>
                        </thead>
                        <tbody>
                          <t t-foreach="order.order_line" t-as="line">
                            <tr>
                              <td>
                                <span t-esc="int(line.product_uom_qty)" />
                              </td>
                              <td>
                                <span t-field="line.name" />
                              </td>
                              <td class="hidden-xs">
                                <span t-field="line.product_id.default_code" />
                              </td>
                              <td class="hidden-xs">
                                <span t-field="line.price_unit" style="white-space: nowrap;" t-field-options='{
                                   "widget": "monetary",
                                   "display_currency": "order.currency_id"
                               }' />
                              </td>
                              <td>
                                <span t-field="line.price_subtotal" style="white-space: nowrap;" t-field-options='{
                                   "widget": "monetary",
                                   "display_currency": "order.currency_id"
                               }' />
                              </td>
                              <td class="order_line_buttons" />
                            </tr>
                          </t>
                        </tbody>
                      </table>
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                      <div class="pull-right col-md-4">
                        <p>
                          <label>Sum:</label>
                          <span t-field="order.amount_untaxed" style="white-space: nowrap;" t-field-options='{
                             "widget": "monetary",
                             "display_currency": "order.currency_id"
                         }' />
                        </p>
                        <p>
                          <label>Shipping:</label>
                          <span t-field="order.carrier_id.normal_price" style="white-space: nowrap;" t-field-options='{
                             "widget": "monetary",
                             "display_currency": "order.currency_id"
                         }' />
                        </p>
                        <p>
                          <label>Tax:</label>
                          <span t-field="order.amount_tax" style="white-space: nowrap;" t-field-options='{
                             "widget": "monetary",
                             "display_currency": "order.currency_id"
                         }' />
                        </p>
                        <hr />
                        <h4>
                          <label>Total:</label>
                          <span t-field="order.amount_total" style="white-space: nowrap;" t-field-options='{
                             "widget": "monetary",
                             "display_currency": "order.currency_id"
                         }' />
                        </h4>
                        <hr />
                      </div>
                      <div class="col-md-4">
                        <div>
                          <span t-field="order.note" />
                        </div>
                        <div>
                          <t t-foreach="order.picking_ids" t-as="picking">
                            <span t-field="picking.note" />
                          </t>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </div>
          </div>
        </div>
      </t>
    </template>
    <!--      <template id="layout" inherit_id="website.layout">
         <xpath expr="//a[@href='/home']" position="replace">
         <a href="/my/home" role="menuitem">My Account</a>
         </xpath>
         </template> 
         
    -->
    <!-- 
         <record model="ir.ui.view" id="view_document_directory_form">
         <field name="name">document.directory</field>
         <field name="model">document.directory</field>
         <field name="inherit_id" ref="document.view_document_directory_form" />
         <field name="arch" type="xml">
         <form string="Contents" position="inside">
         <group>
         <field name="domain" />
         </group>
         </form>
         </field>
         </record>
         <record id="view_knowledge_configuration" model="ir.ui.view">
         <field name="name">Configure Knowledge Inherited website_portal_sale_1028</field>
         <field name="model">knowledge.config.settings</field>
         <field name="inherit_id" ref="knowledge.view_knowledge_configuration" />
         <field name="arch" type="xml">
         <group position="inside">
         <field name="document_directory" />
         </group>
         </field>
         </record>
         
         <record id="view_attachment_form" model="ir.ui.view">
         <field name="name">ir.attachment.form.home</field>
         <field name="model">ir.attachment</field>
         <field name="inherit_id" ref="base.view_attachment_form" />
         <field name="arch" type="xml">
         <field name="datas_fname" position="after">
         <field name="mimetype" attrs="{'invisible':[('type','!=','binary')]}"/>
         </field>
         </field>
         </record> -->
  </data>
</openerp>
