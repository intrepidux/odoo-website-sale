<openerp>
  <data>
    <template id="assets_frontend" inherit_id="website.assets_frontend" name="Website Portal Sale">
      <xpath expr="." position="inside">
        <link rel='stylesheet' href='/website_portal_sale_1028/static/src/less/website_portal_sale_1028.less' />
      </xpath>
    </template>
    <template id="portal_my_home_menu_sale" name="Portal layout : sales menu entries" inherit_id="website_portal_1028.portal_layout" priority="25">
      <xpath expr="//ul[contains(@class,'o_portal_submenu')]" position="inside">
        <div class="menu menu-my-pages">
          <div class="row">
            <div class="col-md-2 col-sm-6 col-xs-4">
              <li>
                <a href="/my/home">Aktuellt</a>
              </li>
            </div>
            <div class="col-md-2 col-sm-6 col-xs-4">
              <li>
                <a href="/my/salon">Min salong</a>
              </li>
            </div>
            <div class="col-md-2 col-sm-6 col-xs-4">
              <li>
                <a href="/my/orders">Mina beställningar</a>
              </li>
            </div>
            <div class="col-md-2 col-sm-6 col-xs-4">
              <li>
                <a href="/my/obsolete">Utgående produkter</a>
              </li>
            </div>
            <div class="col-md-2 col-sm-6 col-xs-4">
              <li>
                <a href="/my/buyinfo">Köpinformation</a>
              </li>
            </div>
            <div class="col-md-2 col-sm-6 col-xs-4">
              <li>
                <a href="/my/mail">Mail &amp; Prenumeranter</a>
              </li>
            </div>
            <div class="col-md-2 col-sm-6 col-xs-4">
              <li class="dropdown-submenu">
                <a class="test" href="#">Media</a>
                <ul class="dropdown-menu">
                  <li>
                    <a href="/my/media/imagearchive">Bildarkiv</a>
                  </li>
                  <li>
                    <a href="/my/media/pricelist">Prislistor</a>
                  </li>
                  <li>
                    <a href="/my/media/news">Nyheter &amp; erbjudanden</a>
                  </li>
                  <li>
                    <a href="/my/media/events">Event &amp; behandlingar</a>
                  </li>
                  <li>
                    <a href="/my/media/compendium">Kompendium</a>
                  </li>
                  <li>
                    <a href="/my/media/other">Övrigt</a>
                  </li>
                </ul>
              </li>
            </div>
          </div>
        </div>
      </xpath>
    </template>
    <template id="my_menu" name="My menu">
      <div class="left_menu col-md-3 hidden-sm hidden-xs">
        <li>
          <a href="/my/home">Aktuellt</a>
        </li>
        <li>
          <a href="/my/salon">Min salong</a>
        </li>
        <li>
          <a href="/my/orders">Mina beställningar</a>
        </li>
        <li>
          <a href="/my/obsolete">Utgående produkter</a>
        </li>
        <li>
          <a href="/my/buyinfo">Köpinformation</a>
        </li>
        <li>
          <a href="/my/mail">Mail &amp; Prenumeranter</a>
        </li>
        <li>
          <a class="test" href="#">Media</a>
        </li>
        <ul class="mega_menu_children">
          <li>
            <a href="/my/media/imagearchive">Bildarkiv</a>
          </li>
          <li>
            <a href="/my/media/pricelist">Prislistor</a>
          </li>
          <li>
            <a href="/my/media/news">Nyheter &amp; erbjudanden</a>
          </li>
          <li>
            <a href="/my/media/events">Event &amp; behandlingar</a>
          </li>
          <li>
            <a href="/my/media/compendium">Kompendium</a>
          </li>
          <li>
            <a href="/my/media/other">Övrigt</a>
          </li>
        </ul>
      </div>
    </template>
    <template id="portal_my_salon" name="My salon">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1> Min salong</h1>
            <div id="info_div" t-if="company_form">
              <h2 class="text-center">Company Information</h2>
              <!--
                   <h4 class="text-center">(* = Required)</h4>
              -->
              <form id="info_form" t-att-action="'/my/salon/%s/info_update' % (home_user.id if home_user else user_id.id)" method="post" class="form-horizontal mt32" enctype="multipart/form-data" onsubmit="return formValidate();">
                <input type="hidden" name="home_user" t-att-value="home_user.id" />
                <div class="form-group">
                  <label class="col-md-3 col-sm-4 control-label" for="foobar1">Customer Number</label>
                  <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" name="foobar1">
                      <t t-esc="home_user.partner_id.commercial_partner_id.customer_no" />
                    </p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-md-3 col-sm-4 control-label" for="foobar2">Logged in as</label>
                  <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" name="foobar2">
                      <t t-esc="home_user.name" />
                      (
                      <t t-esc="home_user.login" />
                      )
                    </p>
                  </div>
                </div>
                <div t-att-class="'form-group'">
                  <label class="col-md-3 col-sm-4 control-label" for="company_name">Company Name</label>
                  <div class="col-md-7 col-sm-8">
                    <input type="text" class="form-control" name="company_name" readonly="" t-att-value="home_user.partner_id.commercial_partner_id.name" placeholder="" />
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-md-3 col-sm-4 control-label" for="vat">Organization Number</label>
                  <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" name="vat">
                      <t t-esc="home_user.partner_id.commercial_partner_id.vat" />
                    </p>
                  </div>
                </div>
                <div t-att-class="'form-group'">
                  <label class="col-md-3 col-sm-4 control-label" for="website_short_description">Company Description</label>
                  <div class="col-md-7 col-sm-8">
                    <textarea type="text" class="form-control" name="website_short_description" rows="10" cols="70">
                      <t t-set="translated_text" t-value="request.env['ir.translation'].search([('name', '=', 'res.partner,website_short_description'), ('type', '=', 'model'), ('lang', '=', request.env.lang), ('res_id', '=', home_user.partner_id.commercial_partner_id.id)])" />
                      <t t-if="translated_text">
                        <t t-esc="translated_text.value" />
                      </t>
                    </textarea>
                  </div>
                </div>
                <!--
                     <div class="form-group">
                     <label class="col-md-3 col-sm-4 control-label" for="invoicetype">Invoice Type</label>
                     <div class="col-md-7 col-sm-8">
                     <select class="form-control" name="invoicetype">
                     <t t-foreach="invoice_type_selection" t-as="type">
                     <option t-att-value="type[0]" t-att="{'selected': '1'} if type[0] == (home_user.partner_id.property_invoice_type and home_user.partner_id.property_invoice_type.id) else {}"><t t-esc="type[1]"/></option>
                     </t>
                     </select>
                     </div>
                     </div>
                     <div t-attf-class="form-group #{error and 'email' in error and 'has-error' or ''}">
                     <label class="col-md-3 col-sm-4 control-label" for="email">Email *</label>
                     <div class="col-md-7 col-sm-8">
                     <input type="email" class="form-control" name="email" required="True" t-att-value="home_user.partner_id.email"/>
                     </div>
                     </div>
                     <div t-attf-class="form-group #{error and 'login' in error and 'has-error' or ''}">
                     <label class="col-md-3 col-sm-4 control-label" for="login">Name For Login *</label>
                     <div class="col-md-7 col-sm-8">
                     <input type="text" class="form-control" name="login" required="True" t-att-value="home_user.login"/>
                     </div>
                     </div>
                     <div t-attf-class="form-group #{error and 'password' in error and 'has-error' or ''}">
                     <label class="col-md-3 col-sm-4 control-label" for="password">New Password *</label>
                     <div class="col-md-7 col-sm-8">
                     <input id="password" type="password" class="form-control" name="password" placeholder="Password (only when you want to change)" />
                     </div>
                     </div>
                     <div t-attf-class="form-group #{error and 'password' in error and 'has-error' or ''}">
                     <label class="col-md-3 col-sm-4 control-label" for="confirm_password">Confirm Password *</label>
                     <div class="col-md-7 col-sm-8">
                     <input id="confirm_password" type="password" class="form-control" name="confirm_password" placeholder="Same password (only when you want to change)" />
                     </div>
                     </div>
                -->
                <t t-call="website_sale_home.company_info_form" />
                <div class="col-md-12">
                  <div class="pull-right mb16">
                    <div class="">
                      <button id="submit_btn" class="btn btn-primary btn-lg">Save</button>
                    </div>
                  </div>
                </div>
              </form>
              <div id="oe_sale_home_message_box" class="mt64">
                <p>
                  <u id="oe_sale_home_open_msgbox">Send a message</u>
                </p>
                <p>
                  <u id="oe_sale_home_close_msgbox" class="hidden">Close message box</u>
                </p>
                <textarea id="oe_sale_home_msgbox" class="form-control hidden" rows="3" placeholder="Write your message here..." />
                <button id="oe_sale_home_send_msgbox" type="button" class="btn btn-primary mt4 mb4 hidden" t-att-data-value="home_user.partner_id.commercial_partner_id.id">Send</button>
                <div t-foreach="home_user.partner_id.commercial_partner_id.sudo().message_ids.with_context(partner_id = request.env.user.partner_id.id).filtered(lambda msg: (msg._context['partner_id'] == msg.author_id.id) or (msg._context['partner_id'] in msg.notified_partner_ids._ids))" t-as="message">
                  <div class="container mt4 mb4 oe_dark">
                    <div class="col-md-2 col-sm-2 col-xs-2">
                      <img style="width: 32px; margin: 4px; border-radius: 2px;" t-att-src="('data:image/png;base64,%s' % message.author_avatar) if message.author_avatar else '/base/static/src/img/avatar.png'" />
                    </div>
                    <div class="col-md-10 col-sm-10 col-xs-10">
                      <h4 t-esc="message.subject" />
                      <div t-raw="message.body" />
                    </div>
                    <div class="col-md-10 col-sm-10 col-xs-10 col-md-offset-2 col-sm-offset-2 col-xs-offset-2">
                      <small>
                        <b t-esc="message.author_id.name" />
                      </small>
                      <span>•</span>
                      <small t-esc="message.write_date" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div id="contact_div" t-if="contact_form">
              <form id="info_form" t-att-action="'/my/salon/%s/contact/%s' %(home_user.id if home_user else user_id.id, contact.id if contact else 'new')" method="post" class="form-horizontal mt32" enctype="multipart/form-data" onsubmit="return formValidate();">
                <t t-call="website_portal_sale_1028.contact_form" />
              </form>
            </div>
          </div>
        </div>
      </t>
    </template>
    <template id="children_info">
      <div class="container">
        <ul class="nav nav-pills">
          <t t-foreach="home_user.partner_id.child_ids" t-as="child">
            <li t-att-class="'active' if child_index == 0 else ''">
              <a t-att-href="'#child_%s' %child.id" data-toggle="tab" class="list-group-item text-center">
                <span t-esc="child.name" class="hidden-xs" />
                <span t-esc="child.name[0]" class="hidden-lg hidden-md hidden-sm" />
              </a>
            </li>
          </t>
        </ul>
        <div class="tab-content">
          <t t-foreach="home_user.partner_id.child_ids" t-as="child">
            <div t-att-id="'child_%s' %child.id" t-att-class="'mt16 tab-pane fade %s' %('in active' if child_index == 0 else '')">
              <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_function' %child.id">Job Position</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_function' %child.id" t-att-value="child.function" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_email' %child.id">Email</label>
                <div class="col-md-7 col-sm-8">
                  <input type="email" class="form-control" t-att-name="'%s_email' %child.id" t-att-value="child.email" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_phone' %child.id">Phone</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_phone' %child.id" t-att-value="child.phone" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_mobile' %child.id">Mobile</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_mobile' %child.id" t-att-value="child.mobile" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_use_parent_address' %child.id">Use Company Address</label>
                <div class="col-md-7 col-sm-8">
                  <input id="use_parent_address" type="checkbox" t-att-name="'%s_use_parent_address' %child.id" value="1" t-att="{'checked': '1'} if child.use_parent_address else {}" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_type' %child.id">Address Type</label>
                <div class="col-md-7 col-sm-8">
                  <select class="form-control" t-att-name="'%s_type' %child.id">
                    <option value="default" t-att="{'selected': 'checked'} if child.type == 'default' else {}">Default</option>
                    <option value="invoice" t-att="{'selected': 'checked'} if child.type == 'invoice' else {}">Invoice</option>
                    <option value="delivery" t-att="{'selected': 'checked'} if child.type == 'delivery' else {}">Delivery</option>
                    <option value="contact" t-att="{'selected': 'checked'} if child.type == 'contact' else {}">Contact</option>
                    <option value="other" t-att="{'selected': 'checked'} if child.type == 'other' else {}">Other</option>
                  </select>
                </div>
              </div>
              <!-- this fileds should hide if child use parent address -->
              <div t-att-id="'child_street_%s' %child.id" t-att-class="'form-group %s' %('hidden' if child.use_parent_address else '')">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_street' %child.id">Street 1</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_street' %child.id" t-att-value="child.street" />
                </div>
              </div>
              <div t-att-id="'child_street2_%s' %child.id" t-att-class="'form-group %s' %('hidden' if child.use_parent_address else '')">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_street2' %child.id">Street row 2</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_street2' %child.id" t-att-value="child.street2" />
                </div>
              </div>
              <div t-att-id="'child_zip_%s' %child.id" t-att-class="'form-group %s' %('hidden' if child.use_parent_address else '')">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_zip' %child.id">Zip</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_zip' %child.id" t-att-value="child.zip" />
                </div>
              </div>
              <div t-att-id="'child_city_%s' %child.id" t-att-class="'form-group %s' %('hidden' if child.use_parent_address else '')">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_city' %child.id">City</label>
                <div class="col-md-7 col-sm-8">
                  <input type="text" class="form-control" t-att-name="'%s_city' %child.id" t-att-value="child.city" />
                </div>
              </div>
              <div t-att-id="'child_country_id_%s' %child_id" t-att-class="'form-group %s' %('hidden' if child.use_parent_address else '')">
                <label class="col-md-3 col-sm-4 control-label" t-att-for="'%s_country_id' %child.id">Country</label>
                <div class="col-md-7 col-sm-8">
                  <select class="form-control" t-att-name="'%s_country_id' % child.id">
                    <t t-foreach="country_selection" t-as="country">
                      <option t-att-value="country[0]" t-att="{'selected': '1'} if (not child or not child.country_id and country[0] == default_country) or (country[0] == child.country_id.id) else {}">
                        <t t-esc="country[1]" />
                      </option>
                    </t>
                  </select>
                </div>
              </div>
            </div>
          </t>
        </div>
      </div>
    </template>
    <template id="portal_my_image_archive" name="My image archive">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1>Bildarkiv &amp; videos</h1>

             <t t-set="document_search_domain" t-value="request.env['ir.config_parameter'].get_param('website_sale_home_document.document_directory')" />
             <t t-foreach="website.sale_home_document_get(home_user, document_search_domain or None)" t-as="doc">

                  <t t-if='doc.type == "url"'>
                    <div style='font-size: 24px; font-weight: 500;'>
                      <a t-att-href="'%s' %(doc.url)" t-att-target="'_blank' if doc.open_new_window else ''">
                        <i class="fa fa-link" />
                        &amp;nbsp;
                        <t t-esc="doc.name" />
                      </a>
                    </div>
                  </t>
      
                  <t t-if='doc.type == "youtube"'>
                    <div style='font-size: 24px; font-weight: 500;'>
                      <a t-att-href="'%s' %(doc.url)" t-att-target="'_blank' if doc.open_new_window else ''" >
                        <i class="fa fa-youtube-square" />
                        &amp;nbsp;
                        <t t-esc="doc.name" />
                      </a>
                    </div>
                  </t>
                </t>

          </div>
        </div>
      </t>
    </template>

        <template id="portal_my_pricelist" name="My pricelist">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1>PRISLISTOR</h1>

         <t t-foreach="website.get_portal_documents(pricelists)" t-as="doc"> 


                   <t t-if='doc.type == "binary"'> 
<!--                     <div style='font-size: 24px; font-weight: 500;'> -->
                      <!-- <a t-att-href="'/home/%s/document/%s%s' % (home_user.id, doc.id, ('/' + doc.name + '.pdf') if doc.mimetype == 'application/pdf' else '')"> -->
                       <!--<a t-att-href="'/home/%s/document/%s%s' % (home_user.id, doc.id, website.sale_home_document_type_get(doc))">-->
                      <!-- <a t-att-href="'/home/%s/document/%s%s' % (home_user.id, doc.id, '')"> -->
                        <i class="fa fa-download" /> 
                   &amp;nbsp; 
                    <t t-esc="doc.name" /> 
                 <!--   </a> --> 
                    <!-- </div> -->
              </t> 
      
       
               </t> 

          </div>
        </div>
      </t>
    </template>
        <template id="portal_my_buy_info" name="My buy info">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1>KÖPINFORMATION</h1>
            <div id="wrap" class="oe_structure oe_empty" />
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_buy_info" name="My buy info">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="col-md-9">
            <h1>KÖPINFORMATION</h1>
            <div id="wrap" class="oe_structure oe_empty" />
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_obsolete" name="My obsolete products">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <h1>UTGÅENDE PRODUKTER</h1>
          <div class="col-md-9">
            <div id="wrap" class="oe_structure oe_empty" />
          </div>
        </div>
      </t>
    </template>
       <template id="portal_my_mail" name="My mail">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <h1 class="">MAIL &amp; PRENUMERATIONER</h1>

          <div class="col-md-6">
              <h3 class="">Våra mailutskick</h3>

              <t t-if="mails">
                <t t-foreach="mails" t-as="mail">
                <div class="row mail_lists_lines">
                  <div class="col-sm-2 col-xs-2">
                  <li>
                    <a t-att-data-value="mail.id" class="oe_mails" t-att-href="'/mass_mailing/%s/token/%s' % (mail.mass_mailing_id.id, mail.mass_mailing_id.token)">
                      <t t-esc="mail.mass_mailing_id.sent_date[2:10].replace('-', '')"/>
                    </a>
                  </li>
                </div>
                    <div class="col-sm-7 col-xs-7">
                  <li>
                    <a t-att-data-value="mail.id" class="oe_mails" t-att-href="'/mass_mailing/%s/token/%s' % (mail.mass_mailing_id.id, mail.mass_mailing_id.token)">
                      <t t-esc="mail.mass_mailing_id.name"/>
                    </a>
                  </li>
                </div>
              </div>
            </t>
          </t>
        </div>

         <div class="col-md-2">
          Filtrera
        </div>
         <div class="col-md-6 my_subscribers">
          <div class="row">
    <h3 class="col-md-6">Mina prenumerationer</h3>
        <h4 class="col-md-4">Ja, jag vill ha dessa prenumerationer</h4>
      </div>
   
              <t t-if="mailing_lists">
                <t t-foreach="mailing_lists" t-as="mailing_list">
                  <div class="row mail_lists_lines">
                    <div class="col-sm-7 col-xs-7">
                  <li>
                      <t t-esc="mailing_list['name']"/>
                  </li>
                </div>
          
            <div class="col-md-2">
            <input type="checkbox" class="subscribe_for_mail col-md-1 col-sm-1" name="subscription box" value="" data-oe-id="6692" data-oe-model="ir.ui.view" data-oe-field="arch" data-oe-xpath="/t[1]/div[1]/div[2]/div[1]/div[1]/h4[1]/input[1]">
            </input>
             </div>
           </div>

           </t>
         </t>

           </div>
         </div>
       </t>
     </template>


              


        <!--     <input type="checkbox" class="heading_checkbox col-md-1 col-sm-1" name="current_offer" value="current_offer" data-oe-id="6692" data-oe-model="ir.ui.view" data-oe-field="arch" data-oe-xpath="/t[1]/div[1]/div[2]/div[1]/div[1]/h4[1]/input[1]">
            </input> -->
 

       

    <!-- <template id="portal_my_quotations" name="My Quotations">
         <t t-call="website_portal_1028.portal_layout">
         <div class="container">
         <t t-call="website_portal_sale_1028.my_menu" />
         <div class="order_table col-md-9">
         <h3 class="page-header">Your Quotes</h3>
         <t t-if="not quotations">
         <p>There are currently no quotes for your account.</p>
         </t>
         <t t-if="quotations">
         <table class="table table-hover o_my_status_table">
         <thead>
         <tr class="active">
         <th>Quotation #</th>
         <th>Valid Until</th>
         <th />
         <th>Total</th>
         </tr>
         </thead>
         <t t-foreach="quotations" t-as="quotation">
         <tr>
         <td>
         <a t-attf-href="/my/orders/#{quotation.id}?#{keep_query()}">
         <t t-esc="quotation.name" />
         </a>
         </td>
         <td>
         <span t-field="quotation.date_order" />
         </td>
         <td>
         <t t-if="quotation.state == 'cancel'">
         <span class="label label-default">
         <i class="fa fa-fw fa-remove" />
         Cancelled
         </span>
         </t>
         <!- <t t-if="quotation.validity_date and quotation.validity_date &lt; date">
         <span class="label label-default"><i class="fa fa-fw fa-clock-o"/> Expired</span>
         </t> -->
    <!--  </td>
         <td>
         <span t-field="quotation.amount_total" t-options='{"widget": "monetary", "display_currency": quotation.pricelist_id.currency_id}' />
         </td>
         </tr>
         </t>
         </table>
         <div t-if="pager" class="o_portal_pager text-center">
         <t t-call="website.pager" />
         </div>
         </t>
         </div>
         </div>
         </t>
         </template> -->
    <template id="portal_my_orders" name="My Sales Orders">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          
          <div class="order_table col-md-9">
            
            <h3 class="page-header">Your Orders</h3>
            <t t-if="not orders">
              <p>There are currently no orders for your account.</p>
            </t>


              <div class="col-xs-10 col-xs-offset-1" t-if="order_filters">
                <t t-foreach="order_filters" t-as="order_filter">
                    <a href="#" t-att-class="'website-home-filter-button%s' % (' active' if order_filter.get('active') else '')" t-att-data-target="'''[name='%s']''' % order_filter['id']">
                        <span t-esc="order_filter['name']" />
                    </a>
                </t>
            </div>

            <table class="table table-striped">
              <thead>
                <tr>
                  <td>
                    <b>
                      Order number
                    </b>
                  </td>
                  <td>
                    <b>
                      Date
                    </b>
                  </td>
                  <td>
                    <b>
                      Orderer
                    </b>
                  </td>
                  <td>
                    <b>
                      State
                    </b>
                  </td>
                  <td>
                    <b>
                      Tracking
                    </b>
                  </td>
                  <td>
                    <b>
                      Total
                    </b>
                  </td>
                </tr>
              </thead>
              <tbody>
                <tr t-foreach="sale_orders" t-as="order">
                  <td>
                      <a t-att-href="'/home/%s/order/%s' %(home_user.id, order.id)">
                        <t t-esc="order.name" />
                      </a>
                  </td>
                  <td>
                      <span t-esc="order.date_order[:10]" />
                  </td>
                  <td>
                      <span t-field="order.partner_id.name" />
                  </td>
                  <td>
                    <t t-set="invoice_list" t-value="order.order_state_per_invoice_frontend()" />
                    <t t-if="len(invoice_list) > 1">
                      <t t-foreach="invoice_list" t-as="invoice_status">
                        <span t-esc="invoice_status" /><br/>
                      </t>
                    </t>
                    <t t-if="len(invoice_list) == 1">
                      <span t-esc="invoice_list[0]" />
                    </t>
                  </td>
                  <td>
                    <t t-foreach="order.picking_ids" t-as="picking">
                      <t t-if="picking.unifaun_track_and_trace_url()">
                        <a t-att-href="picking.unifaun_track_and_trace_url()" t-att-title="picking.name" target="_blank"><span class="text-center fa fa-map-marker"/></a>
                      </t>
                    </t>
                  </td>
                  <td>
                    <!-- TODO: make this correct for all currencies. Look at website_sale. -->
                      <span t-field="order.amount_total" />
                      <span t-field="order.currency_id.name" />
                  </td>
<!--
                  <td>
                      <a t-att-href="website.sale_home_order_get_picking(order)[0]" target="_blank">Picking <t t-esc="website.sale_home_order_get_picking(order)[1]"/> <t t-esc="website.sale_home_order_get_picking(order)[2]"/></a>
                      <a t-att-href="website.sale_home_order_get_invoice(order)[0]" target="_blank">Invoice <t t-esc="website.sale_home_order_get_invoice(order)[1]"/> <t t-esc="website.sale_home_order_get_invoice(order)[2]"/></a>
                  </td>
-->
                </tr>
              </tbody>
            </table>


   <!--          <t t-if="orders">
              <table class="table table-hover o_my_status_table">
                <thead>
                  <tr class="active">
                    <th>Sale Order#</th>
                    <th>Order Date</th>
                    <th />
                    <th>Total</th>
                  </tr>
                </thead>
                <t t-foreach="orders" t-as="order">
                  <tr>
                    <td>
                      <a t-attf-href="/my/orders/{{order.id}}?{{keep_query()}}">
                        <t t-esc="order.name" />
                      </a>
                    </td>
                    <td>
                      <span t-field="order.date_order" />
                    </td>
                    <td>
                      <t t-if="order.state == 'progress'">
                        <span class="label label-info">
                          <i class="fa fa-fw fa-clock-o" />
                          Invoiced
                        </span>
                      </t>
                      <t t-if="order.state in ['shipping_except','invoice_except']">
                        <span class="label label-danger">
                          <i class="fa fa-fw fa-warning" />
                          Problem
                        </span>
                      </t>
                      <t t-if="order.state == 'done'">
                        <span class="label label-default">
                          <i class="fa fa-fw fa-check" />
                          Done
                        </span>
                      </t>
                    </td>
                    <td>
                      <span t-field="order.amount_total" t-options='{"widget": "monetary", "display_currency": order.pricelist_id.currency_id}' />
                    </td>
                  </tr>
                </t>
              </table>
              <div t-if="pager" class="o_portal_pager text-center">
                <t t-call="website.pager" />
              </div>
            </t> -->
          </div>
        </div>
      </t>
    </template>
    <template id="portal_my_invoices" name="My Invoices and Payments">
      <t t-call="website_portal_1028.portal_layout">
        <div class="container">
          <t t-call="website_portal_sale_1028.my_menu" />
          <div class="invoice_table col-md-9">
            <h3 class="page-header">Your Invoices and Payments</h3>
            <t t-if="not invoices">
              <p>There are currently no invoices for your account.</p>
            </t>
            <t t-if="invoices">
              <table class="table table-hover o_my_status_table">
                <thead>
                  <tr class="active">
                    <th>Invoice #</th>
                    <th>Invoice Date</th>
                    <th>Due Date</th>
                    <th />
                    <th />
                    <th>Amount Due</th>
                  </tr>
                </thead>
                <t t-foreach="invoices" t-as="invoice">
                  <tr>
                    <td class= "cell_overflow">
  <a t-att-href="'/my/invoices/pdf/'+str(invoice.id)" t-att-title="invoice.number">
                      <t t-esc="invoice.number" />
                    </a>
                  </td>
                  <td>
                    <span t-field="invoice.date_invoice" />
                  </td>
                  <td>
                    <span t-field="invoice.date_due" />
                  </td>
                  <td>
                    <t t-if="invoice.state == 'open'">
                      <span class="label label-info">
                        <i class="fa fa-fw fa-clock-o" />
                        Waiting for Payment
                      </span>
                    </t>
                    <t t-if="invoice.state == 'paid'">
                      <span class="label label-default">
                        <i class="fa fa-fw fa-check" />
                        Paid
                      </span>
                    </t>
                    <t t-if="invoice.state == 'cancel'">
                      <span class="label label-default">
                        <i class="fa fa-fw fa-remove" />
                        Cancelled
                      </span>
                    </t>
                  </td>
                  <td>
                    <a t-if="invoice.state == 'open'" t-attf-href="/website_payment/pay?reference=#{invoice.number}&amp;amount=#{invoice.residual}&amp;currency_id=#{invoice.currency_id.id}&amp;country_id=#{invoice.partner_id.country_id.id}" alt="Pay Now" class="btn btn-xs btn-primary">
                      <i class="fa fa-arrow-circle-right" />
                      Pay Now
                    </a>
                  </td>
                  <td>
                    <span t-field="invoice.residual" t-options='{"widget": "monetary", "display_currency": invoice.currency_id}' />
                  </td>
                </tr>
              </t>
            </table>
            <div t-if="pager" class="o_portal_pager text-center">
              <t t-call="website.pager" />
            </div>
          </t>
        </div>
      </div>
    </t>
  </template>
  <template id="orders_followup" name="Sales Order">
    <t t-call="website.layout">
      <div id="wrap">
        <div class="container">
          <div class="oe_structure">
            <div class="row">
              <div class="col-sm-4">
                <ol class="breadcrumb mt8">
                  <li>
                    <a href="/my/salon">
                      <i class="fa fa-home" />
                    </a>
                  </li>
                  <li>
                    <a t-attf-href="/my/salon/#{'quotes' if order.state == 'sent' else 'orders'}?{{ keep_query()}}">
                      <t t-if="order.state == 'sent'">My Quotes</t>
                      <t t-if="order.state != 'sent'">My Orders</t>
                    </a>
                  </li>
                  <li>
                    <t t-if="order.state == 'sent'">Quotation</t>
                    <t t-if="order.state != 'sent'">Order</t>
                    <t t-esc="order.name" />
                  </li>
                </ol>
              </div>
            </div>
          </div>
          <div id="optional_placeholder" />
          <div class="container">
            <div class="panel panel-default">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-md-12">
                    <h4>
                      <t t-if="order.state == 'sent'">Quotation</t>
                      <t t-if="order.state != 'sent'">Order</t>
                      <span t-esc="order.name" />
                    </h4>
                  </div>
                </div>
              </div>
              <div class="panel-body">
                <!-- <hr/> -->
                <div class="mb8">
                  <strong>Date:</strong>
                  <span t-field="order.create_date" t-options='{"widget": "date"}' />
                </div>
                <div class='row'>
                  <div class="col-md-6">
                    <div>
                      <strong>Invoicing Address</strong>
                    </div>
                    <div>
                      <address t-field="order.partner_invoice_id" t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}' />
                    </div>
                    <t t-set="invoices" t-value="[i for i in order.invoice_ids if i.state not in ['draft', 'cancel']]" />
                    <t t-if="invoices">
                      <div>
                        <strong>Invoices</strong>
                      </div>
                      <div>
                        <t t-foreach="invoices" t-as="i">
                          <t t-set="report_url" t-value="'/report/pdf/account.report_invoice/%s' % i.id" />
                          <div>
                            <a t-att-href="report_url">
                              <span class="fa fa-download" />
                            </a>
                            <a t-att-href="report_url">
                              <span t-esc="i.number" />
                            </a>
                            <span class="text-muted" t-field="i.date_invoice" />
                            <t t-if="i.state == 'paid'">
                              <span class="label label-success orders_label_text_align">
                                <i class="fa fa-fw fa-check" />
                                Paid
                              </span>
                            </t>
                            <t t-if="i.state != 'paid'">
                              <span class="label label-info orders_label_text_align">
                                <i class="fa fa-fw fa-clock-o" />
                                Waiting
                              </span>
                            </t>
                          </div>
                        </t>
                      </div>
                    </t>
                  </div>
                  <div id="shipping_address" class="col-md-6">
                    <div>
                      <strong>Shipping Address</strong>
                    </div>
                    <div>
                      <address t-field="order.partner_shipping_id" t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}' />
                    </div>
                  </div>
                </div>
                <hr />
                <div class="row">
                  <div class="col-md-6">
                    <strong>Product</strong>
                  </div>
                  <div class="col-md-2 text-right">
                    <strong>Unit Price</strong>
                  </div>
                  <div class="col-md-2 text-right">
                    <strong>Quantity</strong>
                  </div>
                  <div class="col-md-2 text-right">
                    <strong>Subtotal</strong>
                  </div>
                </div>
                <t t-foreach="order.order_line" t-as="ol">
                  <div class="row orders_vertical_align">
                    <div class="col-md-1 text-center">
                      <img t-att-src="ol.product_id.image_small and ('data:image/png;base64,' + ol.product_id.image_small) or '/web/static/src/img/placeholder.png'" />
                    </div>
                    <div id='product_name' class="col-md-5">
                      <span t-esc="ol.product_id.name" />
                    </div>
                    <div class="col-md-2 text-right">
                      <span t-field="ol.price_unit" t-options='{"widget": "monetary", "display_currency": order.pricelist_id.currency_id}' />
                    </div>
                    <div class="col-md-2 text-right">
                      <t t-if="ol._name == 'sale.order.line'">
                        <span t-esc="ol.product_uom_qty" />
                      </t>
                      <t t-if="ol._name == 'account.invoice.line'">
                        <span t-esc="ol.quantity" />
                      </t>
                    </div>
                    <div class="col-md-2 text-right">
                      <span t-field="ol.price_subtotal" t-options='{"widget": "monetary", "display_currency": order.pricelist_id.currency_id}' />
                    </div>
                  </div>
                </t>
                <hr />
                <div class="row">
                  <div class="col-md-6">
                    <div>
                      <strong>Contact</strong>
                    </div>
                    <div t-field="order.user_id.partner_id" t-options='{"widget": "contact", "fields": ["email", "phone"]}' />
                  </div>
                  <div class="col-md-6">
                    <div class="row">
                      <div class="col-md-10 text-right">Untaxed Amount:</div>
                      <div class="col-md-2 text-right">
                        <span t-field="order.amount_untaxed" t-options='{"widget": "monetary", "display_currency": order.pricelist_id.currency_id}' />
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-10 text-right">Taxes:</div>
                      <div class="col-md-2 text-right">
                        <span t-field="order.amount_tax" t-options='{"widget": "monetary", "display_currency": order.pricelist_id.currency_id}' />
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-10 text-right">
                        <strong>Total:</strong>
                      </div>
                      <div class="col-md-2 text-right">
                        <strong>
                          <span t-field="order.amount_total" t-options='{"widget": "monetary", "display_currency": order.pricelist_id.currency_id}' />
                        </strong>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="oe_structure mb32" />
        </div>
      </div>
    </t>
  </template>
</data>
</openerp>
